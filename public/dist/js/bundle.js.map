<<<<<<< HEAD
{"version":3,"sources":["app.js","adminCtrl.js","adminModalDirective.js","adminQuestionDirective.js","adminResultsCtrl.js","adminSendSurveyCtrl.js","adminTemplateCtrl.js","dropdownDirective.js","entityService.js","surveyService.js","templateCtrl.js","templateDirective.js","templateSelectorDirective.js","templateService.js","userCtrl.js","userQuestionDirective.js","userService.js","userSurveyCtrl.js","services/authService.js","services/userService.js","directives/nav/navCtrl.js","directives/nav/navDir.js"],"names":["angular","module","config","$urlRouterProvider","$stateProvider","when","state","templateUrl","url","params","toastMessage","controller","resolve","auth","authService","$state","$stateParams","checkForAuth","then","response","status","data","catch","err","console","error","go","successRedirect","$scope","surveyService","templateService","test","getSurveys","log","surveys","getTemplates","templates","directive","restrict","scope","action","subject","close","deleteEntity","addEntity","entity","submitDisabled","check","name","length","deleteSubject","location","submit","type","delete","_id","link","element","attributes","question","textAnswer","numberAnswer","numberString","booleanAnswer","locations","i","indexOf","entities","cohort","city","push","select","id","selectedSurvey","hide","locationArr","locationObj","selectLocation","index","splice","locationFilter","survey","panelHidden","$watch","entityService","modalActive","modalType","testModalDeleteSubject","test2ModalDeleteSubject","closeModal","openModal","modalSubject","getEntities","selectedTemplate","types","obj","checkTemplate","getSelectedTemplate","templateId","template","questions","title","undefined","checkCompleted","description","surveyDescription","submitSurvey","results","usersSentTo","usersTaken","cohortSentTo","dmCohortId","replaceTitle","sendSurvey","incompleteVars","key","hasOwnProperty","submitText","titleArr","split","join","$timeout","isCohort","isTemplate","selected","giveSelected","show","shown","pullStateParams","service","$http","entityPackage","method","mentors","cohorts","topics","getSurveyById","recentSurveys","percentComplete","questionText","required","min","value","tag","max","save","updateTemplate","needCohort","v","newQuestion","removeQuestion","newTemplate","requiredToggle","addNew","getRecentTemplates","recentTemplates","deleteTemplate","currentTemplate","parseTitle","parsing","parseStrArr","parsedEntities","userService","$location","$anchorScroll","first_name","last_name","isMentor","$","document","ready","Materialize","toast","roles","role","gotoTop","hash","untakenSurveys","loadUntakenSurveys","getUntaken","forEach","e","noSurveys","column1","column2","logout","answer","answerno","textAssignAnswer","textValue","numberAssignAnswer","sliderValue","surveyId","readSurvey","getSurvey","getSliderValue","x","incompleteQuestions","incomplete","unansweredQuestions","userId","writeSurveyResults","login","userData","checkForAdminAuth","getTopic","topicId","studentId"],"mappings":"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","file":"bundle.js","sourcesContent":[" angular.module('surveyApp', ['ui.router', 'ngSanitize'])\r\n\r\n    .config(function($urlRouterProvider, $stateProvider) {\r\n\r\n        $urlRouterProvider.when('', '/');\r\n\r\n        $stateProvider\r\n            .state('user', {\r\n                templateUrl: 'views/user.html',\r\n                url: '/user',\r\n                params: {\r\n                    toastMessage: ''\r\n                },\r\n                controller: 'userCtrl',\r\n                resolve: {\r\n                    auth: function(authService, $state, $stateParams) {\r\n                        return authService.checkForAuth()\r\n                            .then(function(response) {\r\n                                if (response.status === 200) {\r\n                                    return response.data;\r\n                                }\r\n                            })\r\n                            .catch(function(err) {\r\n                                console.error('err = ', err);\r\n                                $state.go('login', {\r\n                                    successRedirect: 'user'\r\n                                });\r\n                            });\r\n                    }\r\n                }\r\n\r\n            })\r\n            .state('admin', {\r\n                templateUrl: 'views/admin.html',\r\n                url: '/admin',\r\n                controller: 'adminCtrl'\r\n\r\n            })\r\n\r\n            .state('adminSendSurvey', {\r\n                templateUrl: 'views/adminSendSurvey.html',\r\n                url: '/admin/send-survey',\r\n                controller: 'adminSendSurveyCtrl'\r\n\r\n            })\r\n            .state('adminSendSurveyId', {\r\n                templateUrl: 'views/adminSendSurvey.html',\r\n                url: '/admin/send-survey/:id',\r\n                controller: 'adminSendSurveyCtrl'\r\n\r\n            })\r\n\r\n            .state('adminResults', {\r\n                templateUrl: 'views/adminResults.html',\r\n                url: '/admin/results',\r\n                controller: 'adminResultsCtrl'\r\n\r\n            })\r\n            .state('adminResultsId', {\r\n                templateUrl: 'views/adminResults.html',\r\n                url: '/admin/results/:id',\r\n                controller: 'adminResultsCtrl'\r\n\r\n            })\r\n\r\n            .state('userSurveyPage', {\r\n                templateUrl: 'views/surveyPage.html',\r\n                url: '/user/surveyPage/:surveyId',\r\n                controller: 'userSurveyCtrl',\r\n                resolve: {\r\n                    auth: function(authService, $state, $stateParams) {\r\n                        return authService.checkForAuth()\r\n                            .then(function(response) {\r\n                                if (response.status === 200) {\r\n                                    return response.data;\r\n                                }\r\n                            })\r\n                            .catch(function(err) {\r\n                                // For any error, send them back to admin landing screen.\r\n                                console.error('err = ', err);\r\n                                $state.go('login', {\r\n                                    successRedirect: 'user'\r\n                                });\r\n                            });\r\n                    }\r\n                }\r\n            })\r\n\r\n\r\n\r\n            .state('login', {\r\n                url: '/',\r\n                templateUrl: 'views/loginPage.html',\r\n                params: {\r\n                    toastMessage: '',\r\n                    successRedirect: ''\r\n                }\r\n            })\r\n            .state('templates', {\r\n              url: '/admin/templates',\r\n              templateUrl: \"views/templates.html\",\r\n              controller: 'templateCtrl'\r\n\r\n\r\n            });\r\n\r\n\r\n        // .state('login', {\r\n        // url: '/',\r\n        // templateUrl: 'LocalAuth/views/login.html',\r\n        //     // params : {\r\n        //     //     toastMessage: '',\r\n        //     //     successRedirect: ''\r\n        //     // },\r\n        // controller: 'localLoginCtrl'\r\n        // })\r\n        // .state('signup', {\r\n        // url: '/signup',\r\n        // templateUrl: 'LocalAuth/views/signup.html',\r\n        // controller: 'localSignupCtrl'\r\n        // })\r\n\r\n\r\n\r\n\r\n    })\r\n","angular.module('surveyApp').controller('adminCtrl', function($scope, surveyService, templateService) {\r\n  $scope.test = 'Hello, I am a test'\r\n  surveyService.getSurveys().then(function (response) {\r\n    console.log(response.data);\r\n    $scope.surveys = response.data\r\n  })\r\n  templateService.getTemplates().then(function (response) {\r\n    $scope.templates = response.data\r\n  })\r\n  $scope.test = function () {\r\n    return {'width': '10%'}\r\n  }\r\n})\r\n","angular.module('surveyApp').directive('adminModalDirective', function(){\r\n\treturn {\r\n\t    templateUrl: \"views/adminModal.html\",\r\n\t    restrict: 'E',\r\n\t    scope: {\r\n            action: '=',\r\n            subject: '=',\r\n            close: '&',\r\n\t\t\tdeleteEntity: '&',\r\n\t\t\taddEntity: '&'\r\n\t    },\r\n\t    controller: function( $scope, $state ) {\r\n\t\t\t$scope.entity = {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t$scope.submitDisabled = true\r\n\t\t\t$scope.check = function () {\r\n\t\t\t\tif ($scope.entity.name.length < 4) {\r\n\t\t\t\t\t$scope.submitDisabled = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$scope.submitDisabled = false\r\n\t\t\t\t}\r\n\t\t\t}\r\n            console.log($scope.deleteSubject);\r\n\t\t\t$scope.deleteEntity = $scope.deleteEntity()\r\n\t\t\t$scope.addEntity = $scope.addEntity()\r\n\t\t\tif ($scope.subject === 'mentor' || $scope.subject === 'instructor') {\r\n\t\t\t\tconsole.log();\r\n\t\t\t\t$scope.location = true\r\n\t\t\t} else \r\n\t\t\t$scope.submit = function () {\r\n\t\t\t\tconsole.log($scope.entity);\r\n\t\t\t\t$scope.entity.type = $scope.subject\r\n\t\t\t\t$scope.addEntity($scope.entity)\r\n\t\t\t\t$scope.close();\r\n\t\t\t}\r\n            $scope.delete = function () {\r\n\t\t\t\t$scope.deleteEntity($scope.subject._id)\r\n                $scope.close();\r\n            }\r\n\t    },\r\n\t    link: function(scope, element, attributes ) {\r\n\r\n\t    }\r\n\t  }\r\n})\r\n","angular.module('surveyApp').directive('adminQuestionDirective', function(){\r\n\treturn {\r\n\t    templateUrl: \"views/adminQuestion.html\",\r\n\t    restrict: 'E',\r\n\t    scope: {\r\n\t      question: '=',\r\n\r\n\t    },\r\n\t    controller: function( $scope, $state ) {\r\n\r\n\t\r\n\r\n/////////ng-show=textAnswer/false //////////////////////////////////////////////////////////\r\n\t      if ($scope.question.type == 'text'){\r\n\t\t\t\t\t// $scope.numberAnswer = false;\r\n\t\t\t\t\t$scope.textAnswer = true;\r\n\t\t\t\t}\r\n///////////ng-show=numberAnswer/false ///////////////////////////////////////\r\n//////////ng-change=\"numberAssignAnswer()\" ng-model=\"sliderValue\"/////////////////////////////////////\r\n\t\t\t\telse if ($scope.question.type == 'numeric'){\r\n\t\t\t\t\t$scope.numberAnswer = true;\r\n\t\t\t\t\t$scope.numberString = '';\r\n\r\n\t\t\t\t}\r\n\r\n\t/////////ng-show=booleanAnswer/false /////////////////////////\r\n\t\t\t \telse if ($scope.question.type == 'boolean'){\r\n\r\n\t\t\t\t\t$scope.booleanAnswer = true;\r\n\t\t\t\t} else {}\r\n\t    },\r\n\t    link: function(scope, element, attributes ) {\r\n\t\t\t\t// scope.numberAnswer = true;\r\n\t    }\r\n\t  }\r\n})\r\n","angular.module('surveyApp').controller('adminResultsCtrl', function($scope, $state, surveyService, templateService) {\r\n    console.log('test');\r\n    $scope.locations = []\r\n  surveyService.getSurveys().then(function (response) {\r\n    \r\n    $scope.surveys = response.data\r\n    for (var i = 0; i < $scope.surveys.length; i++) {\r\n        console.log($scope.locations.indexOf($scope.surveys[i].entities.cohort.location.city) );\r\n        \r\n            \r\n            if ($scope.locations.indexOf($scope.surveys[i].entities.cohort.location.city)  == -1) {\r\n                $scope.locations.push($scope.surveys[i].entities.cohort.location.city)\r\n            }\r\n        \r\n    }\r\n    console.log($scope.locations);\r\n  })\r\n  $scope.select = function (id) {\r\n      $scope.selectedSurvey\r\n      for (var i = 0; i < $scope.surveys.length; i++) {\r\n            if ($scope.surveys[i]._id == id) {\r\n              $scope.selectedSurvey = $scope.surveys[i]\r\n              $scope.hide()\r\n            }\r\n            \r\n          }\r\n  }\r\n\r\n  $scope.locationArr = []\r\n  $scope.locationObj = {}\r\n  $scope.selectLocation = function (index) {\r\n    if ($scope.locationObj[index]) {\r\n        $scope.locationObj[index] = false\r\n    } else {\r\n        $scope.locationObj[index] = true\r\n    }\r\n    if ($scope.locationArr.indexOf($scope.locations[index]) == -1) {\r\n        $scope.locationArr.push($scope.locations[index])\r\n    } else {\r\n        $scope.locationArr.splice($scope.locationArr.indexOf($scope.locations[index]), 1)\r\n    }\r\n  } \r\n  $scope.locationFilter = function (survey) {\r\n    \r\n    if ($scope.locationArr.length == 0) {\r\n        return survey\r\n    } else {\r\n        for (var i = 0; i < $scope.locationArr.length; i++) {\r\n            \r\n            if (survey.entities.cohort.location.city == $scope.locationArr[i]) {\r\n                return survey\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n  }\r\n  $scope.panelHidden = false\r\n  $scope.hide = function () {\r\n      if ($scope.panelHidden) {\r\n        $scope.panelHidden = false\r\n      } else {\r\n        $scope.panelHidden = true\r\n      }\r\n      console.log($scope.panelHidden);\r\n  }\r\n  $scope.$watch('surveys', function () {\r\n      console.log('running');\r\n      if ($scope.surveys) {\r\n          if ($state.params.id) {\r\n            $scope.select($state.params.id)\r\n        }\r\n      }\r\n  })\r\n})\r\n","\r\nangular.module('surveyApp').controller('adminSendSurveyCtrl', function($scope, $state, surveyService, templateService, entityService) {\r\n\r\n\r\n  $scope.survey = {\r\n    entities: {}\r\n  };\r\n  $scope.submitDisabled = true\r\n  $scope.modalActive = false\r\n  $scope.modalType = 'delete'\r\n  $scope.testModalDeleteSubject = {\r\n     name: 'Bingo Jackson',\r\n          id: 4,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Salt Lake City',\r\n              state: 'Utah'\r\n\r\n          },\r\n  }\r\n\r\n  $scope.test2ModalDeleteSubject = {\r\n     name: 'Angular',\r\n          id: 4,\r\n          type: 'topic',\r\n          location: {\r\n              city: 'Salt Lake City',\r\n              state: 'Utah'\r\n\r\n          },\r\n  }\r\n\r\n  $scope.closeModal = function () {\r\n    $scope.modalActive = false;\r\n  }\r\n  $scope.openModal = function (type, subject) {\r\n    $scope.modalType = type\r\n    console.log(subject);\r\n      $scope.modalSubject = subject\r\n\r\n    $scope.modalActive = true;\r\n  }\r\n\r\n  $scope.deleteEntity = function (id) {\r\n    entityService.deleteEntity(id).then(function () {\r\n      entityService.getEntities($scope.selectedTemplate.types).then(function (response) {\r\n        $scope.entities = response.data\r\n      })\r\n    })\r\n\r\n  }\r\n\r\n  $scope.addEntity = function (obj) {\r\n    console.log(obj);\r\n    entityService.addEntity(obj).then(function () {\r\n      entityService.getEntities($scope.selectedTemplate.types).then(function (response) {\r\n        $scope.entities = response.data\r\n      })\r\n    })\r\n  }\r\n  templateService.getTemplates().then(function (response) {\r\n    console.log(response.data);\r\n    $scope.templates = response.data\r\n  })\r\n\r\n  $scope.checkTemplate = function () {\r\n    $scope.selectedTemplate = templateService.getSelectedTemplate()\r\n    $scope.survey.templateId = $scope.selectedTemplate.template._id\r\n    $scope.survey.questions = $scope.selectedTemplate.template.questions\r\n    $scope.survey.title = $scope.selectedTemplate.template.title\r\n\r\n    //TODO fix this\r\n    $scope.survey.entities = {}\r\n    for (var i = 0; i < $scope.selectedTemplate.types.length; i++) {\r\n      $scope.survey.entities[$scope.selectedTemplate.types[i]]\r\n      if ($scope.survey.entities[$scope.selectedTemplate.types[i]]) {\r\n        console.log('!!!FOUND ONE!!!');\r\n      } else {\r\n        $scope.survey.entities[$scope.selectedTemplate.types[i]] = undefined;\r\n      }\r\n\r\n\r\n    }\r\n\r\n    $scope.entities = []\r\n    entityService.getEntities($scope.selectedTemplate.types).then(function (response) {\r\n      $scope.entities = response.data\r\n    })\r\n    $scope.checkCompleted()\r\n\r\n  }\r\n\r\n  $scope.check = function () {\r\n    $scope.survey.description = $scope.surveyDescription\r\n\r\n    $scope.checkCompleted()\r\n    console.log($scope.survey);\r\n  }\r\n\r\n  $scope.submitSurvey = function () {\r\n    $scope.survey.results = [];\r\n    $scope.survey.usersSentTo = []\r\n    $scope.survey.usersTaken = []\r\n    $scope.survey.cohortSentTo = $scope.survey.entities.cohort.dmCohortId\r\n    $scope.survey.title = $scope.replaceTitle($scope.survey.title, $scope.survey.entities)\r\n    surveyService.sendSurvey($scope.survey).then(function () {\r\n      $state.go('admin')\r\n    })\r\n    console.log($scope.survey);\r\n  }\r\n\r\n  $scope.checkCompleted = function () {\r\n    var incompleteVars = []\r\n    for (var key in $scope.survey.entities) {\r\n      if ($scope.survey.entities.hasOwnProperty(key)) {\r\n        if (!$scope.survey.entities[key]) {\r\n          incompleteVars.push(key + ' not filled')\r\n        }\r\n\r\n      }\r\n    }\r\n    if (incompleteVars.length > 0) {\r\n      $scope.submitDisabled = true;\r\n      $scope.submitText = \"Fill out all variables\"\r\n    } else {\r\n      $scope.submitDisabled = false;\r\n      $scope.submitText = \"Send Survey to \" + $scope.survey.entities.cohort.name\r\n    }\r\n\r\n  }\r\n  $scope.replaceTitle = function replaceTitle(title, entities) {\r\n\r\n    var titleArr = title.split(' ')\r\n    for (var key in entities) {\r\n        if (entities.hasOwnProperty(key)) {\r\n           if (entities[key]) {\r\n              for (var i = 0; i < titleArr.length; i++) {\r\n                if (titleArr[i].indexOf(key) != -1) {\r\n                    titleArr.splice(i,1,entities[key].name)\r\n                }\r\n\r\n            }\r\n           }\r\n        }\r\n    }\r\n    return titleArr.join(' ')\r\n\r\n  }\r\n})\r\n","// angular.module('surveyApp').controller('templateCtrl', function($scope,  $state, $stateParams,surveyService, templateService, entityService){\r\n//\r\n// \t$scope.checkTemplate = function () {\r\n// \t\t$scope.selectedTemplate = templateService.getSelectedTemplate()\r\n//\r\n// \t\t$scope.survey.questions = $scope.selectedTemplate.template.questions\r\n// \t\t$scope.survey.title = $scope.selectedTemplate.template.title\r\n//\r\n// \t\t//TODO fix this\r\n// \t\t$scope.survey.entities = {}\r\n// \t\tfor (var i = 0; i < $scope.selectedTemplate.types.length; i++) {\r\n// \t\t\t$scope.survey.entities[$scope.selectedTemplate.types[i]]\r\n// \t\t\tif ($scope.survey.entities[$scope.selectedTemplate.types[i]]) {\r\n// \t\t\t\tconsole.log('!!!FOUND ONE!!!');\r\n// \t\t\t} else {\r\n// \t\t\t\t$scope.survey.entities[$scope.selectedTemplate.types[i]] = undefined;\r\n// \t\t\t}\r\n//\r\n//\r\n// \t\t}\r\n//\r\n// \t\t$scope.entities = []\r\n// \t\t$scope.entities = entityService.getEntities($scope.selectedTemplate.types)\r\n// \t\t$scope.checkCompleted()\r\n//\r\n// \t}\r\n//\r\n// });\r\n","angular.module('surveyApp')\r\n.directive('dropdownDirective', function() {\r\n  return {\r\n    templateUrl: \"views/dropdown.html\",\r\n    restrict: 'E',\r\n    scope: {\r\n      entities: '=',\r\n      title: '=',\r\n      check: '&',\r\n      checkTemplate: '&',\r\n\r\n      survey: '=',\r\n      openModal: '&'\r\n\r\n\r\n    },\r\n    controller: function( $scope, $state, templateService, $timeout ) {\r\n      $scope.isCohort = false\r\n      $scope.isTemplate = false;\r\n      $scope.openModal = $scope.openModal()\r\n      if ($scope.title === 'Cohort') {\r\n        $scope.isCohort = true;\r\n      } else if ($scope.title === 'Template') {\r\n        $scope.isTemplate = true;\r\n        \r\n      }\r\n      \r\n\r\n      $scope.select = function (id) {\r\n        if ($scope.isTemplate) {\r\n          for (var i = 0; i < $scope.entities.length; i++) {\r\n            if ($scope.entities[i]._id == id) {\r\n              $scope.selected = $scope.entities[i]\r\n              templateService.giveSelected($scope.selected)\r\n              $scope.checkTemplate()\r\n            }\r\n\r\n          }\r\n        } else {\r\n          for (var i = 0; i < $scope.entities.entities.length; i++) {\r\n            if ($scope.entities.entities[i]._id == id) {\r\n              $scope.selected = $scope.entities.entities[i]\r\n              $scope.survey.entities[$scope.entities.type] = $scope.selected\r\n              $scope.check()\r\n            }\r\n\r\n          }\r\n        }\r\n        $scope.show();\r\n      }\r\n      $scope.show = function () {\r\n        console.log('working')\r\n        if ($scope.shown) {\r\n          $scope.shown = false\r\n        } else {\r\n          $scope.shown = true\r\n        }\r\n      }\r\n     function pullStateParams() {\r\n        if ($scope.entities) {\r\n          if ($scope.isTemplate) {\r\n            if ($state.params.id) {\r\n              $scope.select($state.params.id)\r\n              $scope.show()\r\n            }\r\n          }\r\n        } else {\r\n        }\r\n     }\r\n     $scope.$watch('entities', function () {\r\n       pullStateParams()\r\n     })\r\n    },\r\n    link: function(scope, element, attributes ) {\r\n      \r\n    }\r\n  }\r\n});\r\n","angular.module('surveyApp').service('entityService', function($http) {\r\n  this.getEntities = function(data) {\r\n      var entityPackage = {\r\n          types: data\r\n      }\r\n        return $http({\r\n            method: 'POST',\r\n            url: '/api/entities',\r\n            data: entityPackage\r\n        }).then(function (response) {\r\n            console.log(response.data);\r\n            return response\r\n        })\r\n    }\r\n    this.addEntity = function(data) {\r\n      \r\n        return $http({\r\n            method: 'POST',\r\n            url: '/api/addentity',\r\n            data: data\r\n        }).then(function (response) {\r\n            console.log(response.data);\r\n            return response\r\n        })\r\n    }\r\n\r\n    this.deleteEntity = function(data) {\r\n      \r\n        return $http({\r\n            method: 'DELETE',\r\n            url: '/api/entities/' + data\r\n        }).then(function (response) {\r\n            console.log(response.data);\r\n            return response\r\n        })\r\n    }\r\n\r\n\r\n  var mentors = {\r\n        type: 'mentor',\r\n        entities: [\r\n      {\r\n          name: 'Michael Memory',\r\n          id: 1,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Provo',\r\n              state: 'Utah'\r\n\r\n          },\r\n\r\n      },\r\n      {\r\n          name: 'Max Rodewald',\r\n          id: 2,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Provo',\r\n              state: 'Utah'\r\n\r\n          },\r\n          \r\n      },\r\n      {\r\n          name: 'Brett Gardiner',\r\n          id: 3,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Provo',\r\n              state: 'Utah'\r\n\r\n          },\r\n          \r\n      },\r\n      {\r\n          name: 'Bingo Jackson',\r\n          id: 4,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Salt Lake City',\r\n              state: 'Utah'\r\n\r\n          },\r\n          \r\n      },\r\n      {\r\n          name: 'HeeHaw Horseman',\r\n          id: 5,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Salt Lake City',\r\n              state: 'Utah'\r\n\r\n          },\r\n          \r\n      },\r\n      {\r\n          name: 'Gunsmoke',\r\n          id: 6,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Salt Lake City',\r\n              state: 'Utah'\r\n\r\n          },\r\n          \r\n      },\r\n      {\r\n          name: 'Michael Memory',\r\n          id: 7,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Provo',\r\n              state: 'Utah'\r\n\r\n          },\r\n\r\n      },\r\n      {\r\n          name: 'Max Rodewald',\r\n          id: 8,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Provo',\r\n              state: 'Utah'\r\n\r\n          },\r\n          \r\n      },\r\n      {\r\n          name: 'Brett Gardiner',\r\n          id: 9,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Provo',\r\n              state: 'Utah'\r\n\r\n          },\r\n          \r\n      },\r\n      {\r\n          name: 'Bingo Jackson',\r\n          id: 10,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Salt Lake City',\r\n              state: 'Utah'\r\n\r\n          },\r\n          \r\n      },\r\n      {\r\n          name: 'HeeHaw Horseman',\r\n          id: 11,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Salt Lake City',\r\n              state: 'Utah'\r\n\r\n          },\r\n          \r\n      },\r\n      {\r\n          name: 'Gunsmoke',\r\n          id: 12,\r\n          type: 'mentor',\r\n          location: {\r\n              city: 'Salt Lake City',\r\n              state: 'Utah'\r\n\r\n          },\r\n          \r\n      },\r\n    ],\r\n    }\r\n\r\n  var cohorts = {\r\n        type: \"cohort\",\r\n        entities: [\r\n        {\r\n            name: 'DM20',\r\n            id: 1,\r\n            location: {\r\n              city: 'Provo',\r\n              state: 'Utah'\r\n\r\n          },\r\n        },\r\n        {\r\n            name: 'DMTEST',\r\n            id: 350,\r\n            location: {\r\n              city: 'Provo',\r\n              state: 'Utah'\r\n\r\n          },\r\n        },\r\n        {\r\n            name: 'DM19',\r\n            id: 2,\r\n            location: {\r\n              city: 'Provo',\r\n              state: 'Utah'\r\n\r\n          },\r\n        },\r\n        {\r\n            name: 'DM18',\r\n            id: 3,\r\n            location: {\r\n              city: 'Provo',\r\n              state: 'Utah'\r\n\r\n          },\r\n        },\r\n        {\r\n            name: 'iOS20',\r\n            id: 4,\r\n            location: {\r\n              city: 'Salt Lake City',\r\n              state: 'Utah'\r\n\r\n          },\r\n        },\r\n        {\r\n            name: 'iOS19',\r\n            id: 5,\r\n            location: {\r\n              city: 'Salt Lake City',\r\n              state: 'Utah'\r\n\r\n          },\r\n        },\r\n        {\r\n            name: 'iOS18',\r\n            id: 6,\r\n            location: {\r\n              city: 'Salt Lake City',\r\n              state: 'Utah'\r\n\r\n          },\r\n        },\r\n    ]\r\n}\r\n\r\nvar topics = {\r\n        type: \"topic\",\r\n        entities: [\r\n        {\r\n            name: 'Jquery',\r\n            id: 1,\r\n            type: 'topic',\r\n            \r\n        },\r\n        {\r\n            name: 'Angular',\r\n            id: 2,\r\n            type: 'topic',\r\n            \r\n        },\r\n        {\r\n            name: 'HTML/CSS',\r\n            id: 3,\r\n            type: 'topic',\r\n            \r\n        },\r\n        {\r\n            name: 'React',\r\n            id: 4,\r\n            type: 'topic',\r\n            \r\n        },\r\n        {\r\n            name: 'Mentoring',\r\n            id: 5,\r\n            type: 'topic',\r\n            \r\n        },\r\n    ]\r\n    }\r\n  \r\n})\r\n\r\n","angular.module('surveyApp').service('surveyService', function($http) {\r\n\r\n\r\n    this.sendSurvey = function(data) {\r\n        return $http({\r\n            method: 'POST',\r\n            url: '/api/admin/surveys',\r\n            data: data\r\n        });\r\n    }\r\n\r\n    this.getSurveys = function () {\r\n      return $http({\r\n            method: 'GET',\r\n            url: '/api/admin/surveys',\r\n        });\r\n    }\r\n\r\n  this.getSurveyById = function () {\r\n    return survey\r\n  }\r\n  var recentSurveys = [\r\n      {\r\n          title: 'DM20 - Week 1 Survey',\r\n          percentComplete: 50\r\n      },\r\n      {\r\n          title: 'DM20 - Week 2 Survey',\r\n          percentComplete: 80\r\n      },\r\n      {\r\n          title: 'DM20 - Week 3 Survey',\r\n          percentComplete: 11\r\n      },\r\n      {\r\n          title: 'DM20 - Week 4 Survey',\r\n          percentComplete: 100\r\n      },\r\n      {\r\n          title: 'DM20 - Week 5 Survey',\r\n          percentComplete: 40\r\n      },\r\n      {\r\n          title: 'Michael Memory - DM20 - Survey',\r\n          percentComplete: 33\r\n      },\r\n      {\r\n          title: 'DM20 - Jquery Survey',\r\n          percentComplete: 0\r\n      },\r\n  ]\r\n  var survey = {\r\n    title: 'DM20-WHATEVER',\r\n    description: 'LOREMMMMMM',\r\n    questions: [\r\n            {\r\n                questionText: 'How good is micahel memory at mentoring?',\r\n                type: 'text',\r\n                required: true\r\n\r\n\r\n            },{\r\n                questionText: 'uhwoueofhoeir?',\r\n                type: 'boolean',\r\n                required: true\r\n\r\n\r\n            },{\r\n                questionText: 'How good is micahel memoryasdfring?',\r\n                type: 'numeric',\r\n                required: true,\r\n                min: {\r\n                value: 1,\r\n                tag: 'Very Poor'\r\n                },\r\n                max: {\r\n                value: 20,\r\n                tag: 'Very Good'\r\n                }\r\n\r\n\r\n            },{\r\n                questionText: 'How good is micahel memory at mentoring?',\r\n                type: 'boolean',\r\n                required: true\r\n\r\n\r\n            },{\r\n                questionText: 'How good is micahel memory at mentoring?',\r\n                type: 'text',\r\n                required: true\r\n\r\n\r\n            },{\r\n                questionText: 'How good is micahel memory at mentoring?',\r\n                type: 'numeric',\r\n                required: true,\r\n                min: {\r\n                value: 1,\r\n                tag: 'Very Bad'\r\n                },\r\n                max: {\r\n                value: 5,\r\n                tag: 'Very Great'\r\n                }\r\n\r\n\r\n            },\r\n        ]\r\n  }\r\n\r\n  });\r\n\r\n{\r\n    title: \"$$cohort$$ - $$topic$$ - Unit 1 Survey\"\r\n}\r\n","angular.module('surveyApp').controller('templateCtrl', function($scope, surveyService, templateService, entityService, $state) {\r\n\r\n\r\n  $scope.save = function(data){\r\n    templateService.updateTemplate($scope.selectedTemplate.template).then(function(){\r\n      $state.go('admin')\r\n    })\r\n\r\n\r\n  }\r\n  $scope.needCohort = function(){\r\n    if($scope.selectedTemplate.template.title.indexOf('$$cohort$$') === -1){\r\n      $scope.submitDisabled = true;\r\n      $scope.submitText = 'Include $$cohort$$';\r\n    } else if ($scope.selectedTemplate.template.questions.length === 0) {\r\n      $scope.submitDisabled = true;\r\n      $scope.submitText = 'Include at least one question';\r\n    } else {\r\n      $scope.submitDisabled = false;\r\n      $scope.submitText = 'Save Template';\r\n    }\r\n  }\r\n  templateService.getTemplates().then(function(v){\r\n    $scope.templates =  v.data\r\n  })\r\n\r\n  $scope.newQuestion = function(type){\r\n    var question = {\r\n      questionText: '',\r\n      type: type,\r\n      required: false,\r\n      min: {\r\n      value: 1,\r\n      tag: 'Very Poor'\r\n      },\r\n      max: {\r\n      value: 10,\r\n      tag: 'Very Good'\r\n      }\r\n    }\r\n    $scope.selectedTemplate.template.questions.push(question)\r\n    $scope.needCohort()\r\n\r\n  }\r\n  $scope.removeQuestion = function(index){\r\n      $scope.selectedTemplate.template.questions.splice(index, 1)\r\n      $scope.needCohort()\r\n  }\r\n\r\n\r\n\r\n\r\n  $scope.survey = {\r\n    entities: {}\r\n  };\r\n  $scope.submitDisabled = true\r\n\r\n  $scope.templates = templateService.getTemplates()\r\n\r\n  $scope.checkTemplate = function () {\r\n    $scope.selectedTemplate = templateService.getSelectedTemplate()\r\n// console.log(selectedTemplate.template.questions)\r\n    $scope.survey.questions = $scope.selectedTemplate.template.questions\r\n    $scope.survey.title = $scope.selectedTemplate.template.title\r\n\r\n    //TODO fix this\r\n    $scope.survey.entities = {}\r\n    for (var i = 0; i < $scope.selectedTemplate.types.length; i++) {\r\n      $scope.survey.entities[$scope.selectedTemplate.types[i]]\r\n      if ($scope.survey.entities[$scope.selectedTemplate.types[i]]) {\r\n        console.log('!!!FOUND ONE!!!');\r\n      } else {\r\n        $scope.survey.entities[$scope.selectedTemplate.types[i]] = undefined;\r\n      }\r\n\r\n\r\n    }\r\n\r\n    $scope.entities = []\r\n    $scope.entities = entityService.getEntities($scope.selectedTemplate.types)\r\n    $scope.checkCompleted()\r\n    $scope.needCohort();\r\n\r\n  }\r\n\r\n  $scope.check = function () {\r\n    $scope.survey.description = $scope.surveyDescription\r\n\r\n    $scope.checkCompleted()\r\n    console.log($scope.survey);\r\n  }\r\n\r\n  $scope.submitSurvey = function () {\r\n    $scope.survey.title = $scope.replaceTitle($scope.survey.title, $scope.survey.entities)\r\n    console.log($scope.survey);\r\n  }\r\n\r\n  $scope.checkCompleted = function () {\r\n    var incompleteVars = []\r\n    for (var key in $scope.survey.entities) {\r\n      if ($scope.survey.entities.hasOwnProperty(key)) {\r\n        if (!$scope.survey.entities[key]) {\r\n          incompleteVars.push(key + ' not filled')\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n  $scope.replaceTitle = function replaceTitle(title, entities) {\r\n\r\n    var titleArr = title.split(' ')\r\n    for (var key in entities) {\r\n        if (entities.hasOwnProperty(key)) {\r\n           if (entities[key]) {\r\n              for (var i = 0; i < titleArr.length; i++) {\r\n                if (titleArr[i].indexOf(key) != -1) {\r\n                    titleArr.splice(i,1,entities[key].name)\r\n                }\r\n\r\n            }\r\n           }\r\n        }\r\n    }\r\n    return titleArr.join(' ')\r\n\r\n  }\r\n  $scope.newTemplate = function () {\r\n    $scope.selectedTemplate = {\r\n\r\n    }\r\n    $scope.selectedTemplate.template = {\r\n      title: '$$cohort$$',\r\n      questions: []\r\n    }\r\n    $scope.needCohort();\r\n\r\n  }\r\n\r\n})\r\n","angular.module('surveyApp')\r\n.directive('templateDirective', function() {\r\n  return {\r\n\t    templateUrl: \"views/templateDirective.html\",\r\n\t    restrict: 'E',\r\n\t    scope: {\r\n\t      question: '=',\r\n        removeQuestion: '&',\r\n        index: '='\r\n\t    },\r\n\t    controller: function( $scope, $state ) {\r\n\r\n\r\n        $scope.removeQuestion = $scope.removeQuestion()\r\n\t\t$scope.requiredToggle = function () {\r\n\t\t\tif ($scope.question.required) {\r\n\t\t\t\t$scope.question.required = false\r\n\t\t\t} else {\r\n\t\t\t\t$scope.question.required = true\r\n\t\t\t}\r\n\t\t}\r\n/////////ng-show=textAnswer/false //////////////////////////////////////////////////////////\r\n\t      if ($scope.question.type == 'text'){\r\n\t\t\t\t\t// $scope.numberAnswer = false;\r\n\t\t\t\t\t$scope.textAnswer = true;\r\n\t\t\t\t}\r\n///////////ng-show=numberAnswer/false ///////////////////////////////////////\r\n//////////ng-change=\"numberAssignAnswer()\" ng-model=\"sliderValue\"/////////////////////////////////////\r\n\t\t\t\telse if ($scope.question.type == 'numeric'){\r\n\t\t\t\t\t$scope.numberAnswer = true;\r\n\t\t\t\t\t$scope.numberString = '';\r\n\r\n\t\t\t\t}\r\n\r\n\t/////////ng-show=booleanAnswer/false /////////////////////////\r\n\t\t\t \telse if ($scope.question.type == 'boolean'){\r\n\r\n\t\t\t\t\t$scope.booleanAnswer = true;\r\n\t\t\t\t} else {}\r\n\t    },\r\n\t    link: function(scope, element, attributes ) {\r\n\t\t\t\t// scope.numberAnswer = true;\r\n\t    }\r\n\t  }\r\n})\r\n","angular.module('surveyApp')\r\n.directive('templateSelectorDirective', function() {\r\n  return {\r\n    templateUrl: \"views/templateSelector.html\",\r\n    restrict: 'E',\r\n    scope: {\r\n      entities: '=',\r\n      title: '=',\r\n      check: '&',\r\n      checkTemplate: '&',\r\n\t\t\tnewTemplate: '&',\r\n      survey: '=',\r\n      openModal: '&'\r\n\r\n\r\n    },\r\n    controller: function( $scope, $state, templateService, $timeout ) {\r\n      $scope.isCohort = false\r\n      $scope.isTemplate = false;\r\n      $scope.openModal = $scope.openModal()\r\n      if ($scope.title === 'Cohort') {\r\n        $scope.isCohort = true;\r\n      } else if ($scope.title === 'Template') {\r\n        $scope.isTemplate = true;\r\n\r\n      }\r\n\r\n\t\t\t$scope.addNew = function () {\r\n\t\t\t\t$scope.newTemplate()\r\n\t\t\t\t$scope.show()\r\n\t\t\t}\r\n      $scope.select = function (id) {\r\n        if ($scope.isTemplate) {\r\n          for (var i = 0; i < $scope.entities.length; i++) {\r\n            if ($scope.entities[i]._id == id) {\r\n              $scope.selected = $scope.entities[i]\r\n              templateService.giveSelected($scope.selected)\r\n              $scope.checkTemplate()\r\n            }\r\n\r\n          }\r\n        } else {\r\n          for (var i = 0; i < $scope.entities.entities.length; i++) {\r\n            if ($scope.entities.entities[i]._id == id) {\r\n              $scope.selected = $scope.entities.entities[i]\r\n              $scope.survey.entities[$scope.entities.type] = $scope.selected\r\n              $scope.check()\r\n            }\r\n\r\n          }\r\n        }\r\n        $scope.show();\r\n      }\r\n      $scope.show = function () {\r\n        console.log('working')\r\n        if ($scope.shown) {\r\n          $scope.shown = false\r\n        } else {\r\n          $scope.shown = true\r\n        }\r\n      }\r\n     function pullStateParams() {\r\n        if ($scope.entities) {\r\n          if ($scope.isTemplate) {\r\n            if ($state.params.id) {\r\n              $scope.select($state.params.id)\r\n              $scope.show()\r\n            }\r\n          }\r\n        } else {\r\n        }\r\n     }\r\n     $scope.$watch('entities', function () {\r\n       pullStateParams()\r\n     })\r\n    },\r\n    link: function(scope, element, attributes ) {\r\n\r\n    }\r\n  }\r\n});\r\n","angular.module('surveyApp').service('templateService', function($http) {\r\n  this.getRecentTemplates = function () {\r\n      return recentTemplates\r\n  }\r\nthis.getTemplates = function () {\r\n      return $http({\r\n            method: 'GET',\r\n            url: '/api/admin/templates'\r\n        })\r\n}\r\nthis.deleteTemplate = function (id) {\r\n      return $http({\r\n            method: 'DELETE',\r\n            url: '/api/admin/templates/' + id\r\n        })\r\n}  \r\nthis.updateTemplate = function(data) {\r\n  console.log(data);\r\n  return $http({\r\n    method: 'POST',\r\n    url: '/api/admin/templates',\r\n    data: data\r\n  })\r\n}\r\n\r\n  var currentTemplate = {\r\n\r\n  }\r\n  this.getSelectedTemplate = function () {\r\n      return currentTemplate\r\n  }\r\n  this.giveSelected = function (template) {\r\n    currentTemplate.template = template\r\n    currentTemplate.types = this.parseTitle(template.title)\r\n  }\r\n  this.parseTitle = function (title) {\r\n    var parsing = false\r\n    var parseStrArr = []\r\n\r\n\r\n    var titleArr = title.split('')\r\n    var parsedEntities = []\r\n    for (var i = 0; i < titleArr.length; i++) {\r\n\r\n        if (parsing) {\r\n\r\n            if (titleArr[i] !== '$') {\r\n                parseStrArr.push(titleArr[i])\r\n            } else {\r\n                parsing = false\r\n                parsedEntities.push(parseStrArr.join(''))\r\n                parseStrArr = []\r\n                i += 2\r\n            }\r\n        } else {\r\n            if (titleArr[i - 1] == '$') {\r\n                parsing = true\r\n            }\r\n        }\r\n\r\n    }\r\n    return parsedEntities\r\n  }\r\n  var recentTemplates = [\r\n      {\r\n          title: '$$cohort$$ - $$topic$$ - Unit 1 Survey',\r\n          id: 1,\r\n          questions: [\r\n            {\r\n                questionText: 'How good is micahel memory at mentoring?',\r\n                type: 'text',\r\n                required: true\r\n\r\n\r\n            },{\r\n                questionText: 'uhwoueofhoeir?',\r\n                type: 'boolean',\r\n                required: true\r\n\r\n\r\n            },{\r\n                questionText: 'How good is micahel memoryasdfring?',\r\n                type: 'numeric',\r\n                required: true,\r\n                min: {\r\n                value: 1,\r\n                tag: 'Very Poor'\r\n                },\r\n                max: {\r\n                value: 20,\r\n                tag: 'Very Good'\r\n                }\r\n\r\n\r\n            },{\r\n                questionText: 'How good is micahel memory at mentoring?',\r\n                type: 'boolean',\r\n                required: true\r\n\r\n\r\n            },{\r\n                questionText: 'How good is micahel memory at mentoring?',\r\n                type: 'text',\r\n                required: true\r\n\r\n\r\n            },{\r\n                questionText: 'How good is micahel memory at mentoring?',\r\n                type: 'numeric',\r\n                required: true,\r\n                min: {\r\n                value: 1,\r\n                tag: 'Very Bad'\r\n                },\r\n                max: {\r\n                value: 5,\r\n                tag: 'Very Great'\r\n                }\r\n\r\n\r\n            },\r\n        ]\r\n      },\r\n      {\r\n          title: '$$cohort$$ - Unit 5 Survey',\r\n          id: 2\r\n      },\r\n      {\r\n          title: '$$cohort$$ - Jquery Survey',\r\n          id: 3\r\n      },\r\n      {\r\n          title: '$$cohort$$ - Weekly',\r\n          id: 4\r\n      },\r\n      {\r\n          title: '$$mentor$$ - $$cohort$$ - iOS Mentor',\r\n          id: 5\r\n      },\r\n      {\r\n          title: '$$mentor$$ - $$cohort$$ - iOS Instructor',\r\n          id: 6\r\n      },\r\n      {\r\n          title: '$$mentor$$ - $$cohort$$ - UI/UX Mentor asdfas dfasdglkfasld asdljfh askljasdflkj',\r\n          id: 7\r\n      },\r\n  ]\r\n})\r\n","angular.module('surveyApp').controller('userCtrl', function($scope, $state, $stateParams, auth, authService, userService, $location, $anchorScroll) {\r\n\r\n    $scope.name = auth.first_name + ' ' + auth.last_name;\r\n    $scope.isMentor = false;\r\n    $(document).ready(function() {\r\n        if ($stateParams.toastMessage)\r\n            Materialize.toast($stateParams.toastMessage, 4000);\r\n        for (var i = 0; i < auth.roles.length; i++) {\r\n            if (auth.roles[i].role === 'mentor') {\r\n                $scope.isMentor = true;\r\n            }\r\n        }\r\n    });\r\n\r\n    $scope.gotoTop = function() {\r\n        // set the location.hash to the id of\r\n        // the element you wish to scroll to.\r\n        $location.hash('top'); // top of body\r\n\r\n        $anchorScroll();\r\n    };\r\n\r\n\r\n    $scope.untakenSurveys = [];\r\n    $scope.loadUntakenSurveys = function() {\r\n        userService.getUntaken(auth._id)\r\n            .then(function(response) {\r\n                if (!response.data.hasOwnProperty('message')) {\r\n                    response.data.forEach(function(e) {\r\n                        $scope.untakenSurveys.push(e);\r\n                    })\r\n                }\r\n                if ($scope.untakenSurveys.length === 0) {\r\n                  $scope.noSurveys = true;\r\n                }\r\n                console.log($scope.untakenSurveys)\r\n                $scope.surveys = {\r\n                    column1: [],\r\n                    column2: []\r\n                }\r\n                for (var i = 0; i < $scope.untakenSurveys.length; i++) {\r\n                    // console.log($scope.untakenSurveys)\r\n                    if (i % 2 === 0) {\r\n                        $scope.surveys.column1.push($scope.untakenSurveys[i])\r\n                        continue;\r\n                    } else {\r\n                        $scope.surveys.column2.push($scope.untakenSurveys[i])\r\n                        continue;\r\n                        // console.log($scope.untakenSurveys[i])\r\n                    }\r\n\r\n                    return $scope.surveys\r\n                }\r\n\r\n                // console.log($scope.surveys);\r\n\r\n            })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    $scope.gotoTop();\r\n    $scope.loadUntakenSurveys();\r\n\r\n\r\n    $scope.logout = function(){\r\n      console.log('working')\r\n      authService.logout()\r\n       .then(function( response ) {\r\n            if (response.status === 200) {\r\n                $state.go('login');\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    // $scope.getUser = function(){\r\n    //   $scope.surveys = userService.getUser();\r\n    // }\r\n    // $scope.getUser();\r\n    // console.log($scope.surveysColumn1)\r\n    // $scope.getUntaken = function(studentId){\r\n    //   $scope.userData = userService.getUntaken('590cf0a10bc4105a51c14dd6');\r\n    //   if($scope.userData.surveysA.length == 0 && $scope.userData.surveysB.length == 0) {\r\n    //       $scope.noSurveys = true;\r\n    //   }\r\n    // }\r\n    // $scope.getUntaken();\r\n    // console.log('test')\r\n})\r\n","angular.module('surveyApp').directive('userQuestionDirective', function(){\r\n\treturn {\r\n\t    templateUrl: \"views/userQuestion.html\",\r\n\t    restrict: 'E',\r\n\t    scope: {\r\n\t      question: '=',\r\n\r\n\t    },\r\n\t    controller: function( $scope, $state ) {\r\n\r\n\t//////////////booleanAnswer ng-click\"answer && answerno\"//////////////////////////////\r\n\t\t\t\t$scope.answer = function(question) {\r\n\t\t\t\t\tquestion.answer = 'true'; console.log(\"answer: \",question)\r\n\t\t\t\t}\r\n\t\t\t\t$scope.answerno = function(question) {\r\n\t\t\t\t\tquestion.answer = 'false'; console.log(\"no answer: \",question)\r\n\t\t\t\t}\r\n\r\n/////////////textAnswer ng-change=\"textAssignAnswer\" ng-model=\"textValue\"/////////////////////////////////\r\n\t\t\t\t$scope.textAssignAnswer = function(){\r\n\t\t\t\t\t$scope.question.answer = $scope.textValue\r\n\t\t\t\t}\r\n\r\n\r\n\r\n/////////ng-show=textAnswer/false //////////////////////////////////////////////////////////\r\n\t      if ($scope.question.type == 'text'){\r\n\t\t\t\t\t// $scope.numberAnswer = false;\r\n\t\t\t\t\t$scope.textAnswer = true;\r\n\t\t\t\t}\r\n///////////ng-show=numberAnswer/false ///////////////////////////////////////\r\n//////////ng-change=\"numberAssignAnswer()\" ng-model=\"sliderValue\"/////////////////////////////////////\r\n\t\t\t\telse if ($scope.question.type == 'numeric'){\r\n\t\t\t\t\t$scope.numberAnswer = true;\r\n\t\t\t\t\t$scope.numberString = '';\r\n\r\n\t\t\t\t\t$scope.numberAssignAnswer = function(){\r\n\t\t\t\t\t\t$scope.question.answer = $scope.sliderValue\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t/////////ng-show=booleanAnswer/false /////////////////////////\r\n\t\t\t \telse if ($scope.question.type == 'boolean'){\r\n\r\n\t\t\t\t\t$scope.booleanAnswer = true;\r\n\t\t\t\t} else {}\r\n\t    },\r\n\t    link: function(scope, element, attributes ) {\r\n\t\t\t\t// scope.numberAnswer = true;\r\n\t    }\r\n\t\t}\r\n})\r\n","\r\n// angular.module('surveyApp').service('userService', function() {\r\n//\r\n// var surveysColumn1 = [{}];\r\n// var surveysColumn2 = [{}];\r\n//   this.getUser = function () {\r\n//     var surveys = {\r\n//       column1: [],\r\n//       column2: []\r\n//     }\r\n//     for(var i=0;i < recentSurveys.length; i++){\r\n//           if(i%2 === 0){\r\n//\r\n//             surveys.column1.push(recentSurveys[i])\r\n//\r\n//\r\n//           } else  {\r\n//               surveys.column2.push(recentSurveys[i])\r\n//           }\r\n//\r\n//         }\r\n//\r\n//   return surveys\r\n//   }\r\n//\r\n//\r\n//   // this.getUser = function() {\r\n//   //   return recentSurveys\r\n//   // }\r\n//   var recentSurveys = [\r\n//       {\r\n//\r\n//           title: 'DM20-Brett Rheiner',\r\n//         description: 'Mentor Survey on your personal mentor. 10 questions on your overall rating of your mentor sajdhjhasdkfhklj kjl jkasdhfklj a skljdf jkla kdjajsdh fklj asdf klasdf kjasdf kasdf kjsdf kaskjf kljasdf lkhasdjf klj asdfgakl rgfiuqohrou asdlkjl ;iasdh '\r\n//       },\r\n//       {\r\n//           title: 'DM20 - Week 2 Survey',\r\n// \t\t\t\t\t  description: 'lorem'\r\n//       },\r\n//       {\r\n//           title: 'DM20 - Week 3 Survey',\r\n// \t\t\t\t\t  description: 'lorem'\r\n//       },\r\n//       {\r\n//           title: 'DM20 - Week 4 Survey',\r\n// \t\t\t\t\t  description: 'lorem'\r\n//       },\r\n//       {\r\n//           title: 'DM20 - Week 5 Survey',\r\n// \t\t\t\t\t  description: 'lorem'\r\n//       },\r\n//       {\r\n//           title: 'Michael Memory - DM20 - Survey',\r\n// \t\t\t\t\t  description: 'lorem'\r\n//       },\r\n//       {\r\n//           title: 'DM20 - Jquery Survey',\r\n// \t\t\t\t\t  description: 'lorem'\r\n//\r\n//       },\r\n//       {\r\n//           classTitle: 'DM21',\r\n//           title: 'DM20-MAXXiliion Rheiner',\r\n//         description: 'Mentor Survey on your personal mentor. 10 questions on your overall rating of your mentor'\r\n//       },\r\n//       {\r\n//           title: 'DM20 - Week 2 Survey',\r\n// \t\t\t\t\t  description: 'lorem'\r\n//       },\r\n//       {\r\n//           title: 'DM20 - Week 3 Survey',\r\n// \t\t\t\t\t  description: 'lorem'\r\n//       },\r\n//       {\r\n//           title: 'DM20 - Week 4 Survey',\r\n// \t\t\t\t\t  description: 'lorem'\r\n//       },\r\n//       {\r\n//           title: 'DM20 - Week 5 Survey',\r\n// \t\t\t\t\t  description: 'lorem lasihdfo hhasdfoih oph asdfjhasldkjhfjkhaskldjhfklj hkljasdhf   kj hadjf haskjdh kjasd fkjhakldjf hklajsd klj hkajsdf khasj kdhfklj asdfklj askljdf hjakljasdkljh fklj asdfhjk'\r\n//       },\r\n//       {\r\n//           title: 'Michael Memory - DM20 - Survey',\r\n// \t\t\t\t\t  description: 'lorem'\r\n//       },\r\n//       {\r\n//           title: 'DM20 - Jquery Survey',\r\n// \t\t\t\t\t  description: 'lorem'\r\n//\r\n//       }\r\n//   ]\r\n//\r\n// })\r\n","angular.module('surveyApp').controller('userSurveyCtrl', function($scope, $state, authService, auth, $stateParams, userService) {\r\n\r\n\r\n\tconsole.log('$stateParams.surveyId = ', $stateParams.surveyId);\r\n\r\n\t\t\t$scope.readSurvey = function() {\r\n       userService.getSurvey($stateParams.surveyId)\r\n       .then(function( response ) {\r\n            console.log('in takeSurveyCtrl');\r\n            console.log('in readSurvey')\r\n            console.log('response', response);\r\n            $scope.survey = response.data;\r\n        })\r\n        .catch(function(err) {\r\n            console.error('err = ', err);\r\n            $state.go('user');\r\n        })\r\n    }\r\n\t\t$scope.readSurvey();\r\n\r\n\t\t// $scope.processForm = function() {\r\n\t  //            $scope.newResults.user = auth._id;\r\n\t  //            $scope.newResults.survey = $stateParams.surveyId;\r\n\t  //            $scope.newResults.topic = $scope.topicId;\r\n\t  //            console.log('newResults = ', $scope.newResults);\r\n\t  //            takeSurveyService.writeSurveyResults($scope.newResults)\r\n\t  //            .then(function(response) {\r\n\t  //                console.log('in takeSurveyCtrl');\r\n\t  //                console.log('in processForm');\r\n\t  //                console.log('response', response);\r\n\t  //                if (response.status === 200) {\r\n\t  //                    $state.go('user', {\r\n\t  //                        toastMessage: 'Survey Successfully Submitted'\r\n\t  //                    });\r\n\t  //                }\r\n\t  //             })\r\n\t  //            .catch(function(err) {\r\n\t  //            // For any error, send them back to admin login screen.\r\n\t  //                console.error('err = ', err);\r\n\t  //                $scope.errorMsg = 'Error Submitting Survey';\r\n\t  //            });\r\n\t  //        }\r\n\r\n\r\n\r\n\r\n$scope.getSliderValue = function(x) {\r\n\r\n\r\n}\r\n$scope.submit = function(){\r\nvar incompleteQuestions = [];\r\n\r\n\r\n\r\n\r\n\tfor (var i = 0; i < $scope.survey.questions.length; i++) {\r\n\t\tif($scope.survey.questions[i].required ){\r\n\t\t\tif($scope.survey.questions[i].answer){\r\n\t\t\t\t$scope.survey.questions[i].incomplete = false;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t$scope.survey.questions[i].incomplete = true;\r\n\t\t\t\tincompleteQuestions.push($scope.survey.questions[i])\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(incompleteQuestions.length > 0 ){\r\n\t\t$scope.unansweredQuestions = true;\r\n\r\n\t} else {\r\n\t\tvar results = {\r\n\r\n            surveyId: $scope.survey._id,\r\n\t\t\t\t\t\tuserId: auth._id,\r\n            results: $scope.survey.questions\r\n\r\n        }\r\n        console.log('this is scope.survey',$scope.survey)\r\n        console.log('results',results )\r\n\r\n        userService.writeSurveyResults(results).then(function(){\r\n            $state.go('user')\r\n\r\n\t\t});\r\n\r\n\t}\r\n\tconsole.log($scope.survey.questions)\r\n\r\n}\r\n$scope.logout = function(){\r\n\tconsole.log('working')\r\n\tauthService.logout()\r\n\t .then(function( response ) {\r\n\t\t\t\tif (response.status === 200) {\r\n\t\t\t\t\t\t$state.go('login');\r\n\t\t\t\t}\r\n\t\t});\r\n}\r\n$scope.getSliderValue();\r\nconsole.log($scope.survey)\r\n\r\n\r\n\r\n\r\n// authService.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n});\r\n","angular.module(\"surveyApp\").service(\"authService\", function($http) {\r\n\r\n  this.login = function(userData) {\r\n      console.log('userData = ', userData);\r\n\r\n      return $http({\r\n          method: 'POST',\r\n          url: '/api/login',\r\n          data: userData\r\n      });\r\n  };\r\n\r\n   this.logout = function() {\r\n      return $http({\r\n          method: 'GET',\r\n          url: '/api/logout'\r\n      });\r\n  };\r\n\r\n  this.checkForAuth = function() {\r\n      return $http({\r\n          method: 'GET',\r\n          url: '/api/current_user'\r\n      });\r\n  };\r\n\r\n  this.checkForAdminAuth = function() {\r\n      return $http({\r\n          method: 'GET',\r\n          url: '/api/current_admin_user'\r\n      });\r\n  };\r\n\r\n});\r\n","angular.module(\"surveyApp\").service(\"userService\", function($http) {\r\n\r\n    this.getSurvey = function(surveyId) {\r\n        return $http({\r\n            method: 'GET',\r\n            url: '/api/surveys/' + surveyId\r\n        });\r\n    }\r\n\r\n    this.getTopic = function(topicId) {\r\n        return $http({\r\n            method: 'GET',\r\n            url: '/api/topics?_id=' + topicId\r\n        });\r\n    }\r\n\r\n    this.writeSurveyResults = function(data) {\r\n        return $http({\r\n            method: 'POST',\r\n            url: '/api/surveys/results',\r\n            data: data\r\n        });\r\n    }\r\n\r\n\r\n    this.getUntaken = function(studentId) {\r\n        return $http({\r\n            method: 'GET',\r\n            url: '/api/surveys/untaken/' + studentId\r\n        });\r\n      }\r\n    });\r\n      // .then(function(response) {\r\n      //     console.log(response)\r\n      //\r\n      //   })\r\n      // }\r\n\r\n\r\n    //\r\n    // this.getUsers = function() {\r\n    //   return $http({\r\n    //     method: 'GET',\r\n    //     url: '/user'\r\n    //   }).then(function(response) {\r\n    //     return response;\r\n    //   });\r\n    // };\r\n    //\r\n    // this.getUser = function(id) {\r\n    //   return $http({\r\n    //     method: 'GET',\r\n    //     url: '/user?_id=' + id\r\n    //   }).then(function(response) {\r\n    //     return response;\r\n    //   });\r\n    // };\r\n","angular.module(\"surveyApp\").controller(\"navCtrl\", function($scope, authService, $state) {\r\n  $scope.logout = function() {\r\n    authService.logout().then(function(response) {\r\n      $state.go('login');\r\n    });\r\n  };\r\n});\r\n","angular.module('surveyApp').directive('navDir', function() {\r\n  return {\r\n    restrict: 'EA',\r\n    templateUrl: './js/directives/nav/navTmpl.html',\r\n    controller: 'navCtrl'\r\n  };\r\n});\r\n"]}
=======
{"version":3,"sources":["app.js","adminCtrl.js","adminModalDirective.js","adminQuestionDirective.js","adminResultsCtrl.js","adminSendSurveyCtrl.js","adminTemplateCtrl.js","dropdownDirective.js","entityService.js","surveyService.js","templateCtrl.js","templateDirective.js","templateSelectorDirective.js","templateService.js","userCtrl.js","userQuestionDirective.js","userService.js","userSurveyCtrl.js","services/authService.js","services/userService.js","directives/nav/navCtrl.js","directives/nav/navDir.js"],"names":["angular","module","config","$urlRouterProvider","$stateProvider","when","state","templateUrl","url","params","toastMessage","controller","resolve","auth","authService","$state","$stateParams","checkForAuth","then","response","status","data","catch","err","console","error","go","successRedirect","$scope","surveyService","templateService","test","getSurveys","log","surveys","getTemplates","templates","directive","restrict","scope","action","subject","close","deleteEntity","addEntity","entity","submitDisabled","check","name","length","deleteSubject","location","submit","type","delete","_id","link","element","attributes","question","textAnswer","numberAnswer","numberString","booleanAnswer","locations","i","indexOf","entities","cohort","city","push","select","id","selectedSurvey","hide","locationArr","locationObj","selectLocation","index","splice","locationFilter","survey","panelHidden","$watch","entityService","modalActive","modalType","testModalDeleteSubject","test2ModalDeleteSubject","closeModal","openModal","modalSubject","getEntities","selectedTemplate","types","obj","checkTemplate","getSelectedTemplate","templateId","template","questions","title","undefined","checkCompleted","description","surveyDescription","submitSurvey","results","usersSentTo","usersTaken","cohortSentTo","dmCohortId","replaceTitle","sendSurvey","incompleteVars","key","hasOwnProperty","submitText","titleArr","split","join","$timeout","isCohort","isTemplate","selected","giveSelected","show","shown","pullStateParams","service","$http","entityPackage","method","mentors","cohorts","topics","getSurveyById","recentSurveys","percentComplete","questionText","required","min","value","tag","max","save","updateTemplate","needCohort","v","newQuestion","removeQuestion","newTemplate","requiredToggle","addNew","getRecentTemplates","recentTemplates","deleteTemplate","currentTemplate","parseTitle","parsing","parseStrArr","parsedEntities","userService","$location","$anchorScroll","first_name","last_name","isMentor","$","document","ready","Materialize","toast","roles","role","gotoTop","hash","untakenSurveys","loadUntakenSurveys","getUntaken","forEach","e","noSurveys","column1","column2","logout","answer","answerno","textAssignAnswer","textValue","numberAssignAnswer","sliderValue","surveyId","readSurvey","getSurvey","getSliderValue","x","incompleteQuestions","incomplete","unansweredQuestions","userId","writeSurveyResults","login","userData","checkForAdminAuth","getTopic","topicId","studentId"],"mappings":"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","file":"bundle.js","sourcesContent":[" angular.module('surveyApp', ['ui.router', 'ngSanitize'])\n\n    .config(function($urlRouterProvider, $stateProvider) {\n\n        $urlRouterProvider.when('', '/');\n\n        $stateProvider\n            .state('user', {\n                templateUrl: 'views/user.html',\n                url: '/user',\n                params: {\n                    toastMessage: ''\n                },\n                controller: 'userCtrl',\n                resolve: {\n                    auth: function(authService, $state, $stateParams) {\n                        return authService.checkForAuth()\n                            .then(function(response) {\n                                if (response.status === 200) {\n                                    return response.data;\n                                }\n                            })\n                            .catch(function(err) {\n                                console.error('err = ', err);\n                                $state.go('login', {\n                                    successRedirect: 'user'\n                                });\n                            });\n                    }\n                }\n\n            })\n            .state('admin', {\n                templateUrl: 'views/admin.html',\n                url: '/admin',\n                controller: 'adminCtrl'\n\n            })\n\n            .state('adminSendSurvey', {\n                templateUrl: 'views/adminSendSurvey.html',\n                url: '/admin/send-survey',\n                controller: 'adminSendSurveyCtrl'\n\n            })\n            .state('adminSendSurveyId', {\n                templateUrl: 'views/adminSendSurvey.html',\n                url: '/admin/send-survey/:id',\n                controller: 'adminSendSurveyCtrl'\n\n            })\n\n            .state('adminResults', {\n                templateUrl: 'views/adminResults.html',\n                url: '/admin/results',\n                controller: 'adminResultsCtrl'\n\n            })\n            .state('adminResultsId', {\n                templateUrl: 'views/adminResults.html',\n                url: '/admin/results/:id',\n                controller: 'adminResultsCtrl'\n\n            })\n\n            .state('userSurveyPage', {\n                templateUrl: 'views/surveyPage.html',\n                url: '/user/surveyPage/:surveyId',\n                controller: 'userSurveyCtrl',\n                resolve: {\n                    auth: function(authService, $state, $stateParams) {\n                        return authService.checkForAuth()\n                            .then(function(response) {\n                                if (response.status === 200) {\n                                    return response.data;\n                                }\n                            })\n                            .catch(function(err) {\n                                // For any error, send them back to admin landing screen.\n                                console.error('err = ', err);\n                                $state.go('login', {\n                                    successRedirect: 'user'\n                                });\n                            });\n                    }\n                }\n            })\n\n\n\n            .state('login', {\n                url: '/',\n                templateUrl: 'views/loginPage.html',\n                params: {\n                    toastMessage: '',\n                    successRedirect: ''\n                }\n            })\n            .state('templates', {\n              url: '/admin/templates',\n              templateUrl: \"views/templates.html\",\n              controller: 'templateCtrl'\n\n\n            });\n\n\n        // .state('login', {\n        // url: '/',\n        // templateUrl: 'LocalAuth/views/login.html',\n        //     // params : {\n        //     //     toastMessage: '',\n        //     //     successRedirect: ''\n        //     // },\n        // controller: 'localLoginCtrl'\n        // })\n        // .state('signup', {\n        // url: '/signup',\n        // templateUrl: 'LocalAuth/views/signup.html',\n        // controller: 'localSignupCtrl'\n        // })\n\n\n\n\n    })\n","angular.module('surveyApp').controller('adminCtrl', function($scope, surveyService, templateService) {\n  $scope.test = 'Hello, I am a test'\n  surveyService.getSurveys().then(function (response) {\n    console.log(response.data);\n    $scope.surveys = response.data\n  })\n  templateService.getTemplates().then(function (response) {\n    $scope.templates = response.data\n  })\n  $scope.test = function () {\n    return {'width': '10%'}\n  }\n})\n","angular.module('surveyApp').directive('adminModalDirective', function(){\n\treturn {\n\t    templateUrl: \"views/adminModal.html\",\n\t    restrict: 'E',\n\t    scope: {\n            action: '=',\n            subject: '=',\n            close: '&',\n\t\t\tdeleteEntity: '&',\n\t\t\taddEntity: '&'\n\t    },\n\t    controller: function( $scope, $state ) {\n\t\t\t$scope.entity = {\n\t\t\t\t\n\t\t\t}\n\t\t\t$scope.submitDisabled = true\n\t\t\t$scope.check = function () {\n\t\t\t\tif ($scope.entity.name.length < 4) {\n\t\t\t\t\t$scope.submitDisabled = true\n\t\t\t\t} else {\n\t\t\t\t\t$scope.submitDisabled = false\n\t\t\t\t}\n\t\t\t}\n            console.log($scope.deleteSubject);\n\t\t\t$scope.deleteEntity = $scope.deleteEntity()\n\t\t\t$scope.addEntity = $scope.addEntity()\n\t\t\tif ($scope.subject === 'mentor' || $scope.subject === 'instructor') {\n\t\t\t\tconsole.log();\n\t\t\t\t$scope.location = true\n\t\t\t} else \n\t\t\t$scope.submit = function () {\n\t\t\t\tconsole.log($scope.entity);\n\t\t\t\t$scope.entity.type = $scope.subject\n\t\t\t\t$scope.addEntity($scope.entity)\n\t\t\t\t$scope.close();\n\t\t\t}\n            $scope.delete = function () {\n\t\t\t\t$scope.deleteEntity($scope.subject._id)\n                $scope.close();\n            }\n\t    },\n\t    link: function(scope, element, attributes ) {\n\n\t    }\n\t  }\n})\n","angular.module('surveyApp').directive('adminQuestionDirective', function(){\n\treturn {\n\t    templateUrl: \"views/adminQuestion.html\",\n\t    restrict: 'E',\n\t    scope: {\n\t      question: '=',\n\n\t    },\n\t    controller: function( $scope, $state ) {\n\n\t\n\n/////////ng-show=textAnswer/false //////////////////////////////////////////////////////////\n\t      if ($scope.question.type == 'text'){\n\t\t\t\t\t// $scope.numberAnswer = false;\n\t\t\t\t\t$scope.textAnswer = true;\n\t\t\t\t}\n///////////ng-show=numberAnswer/false ///////////////////////////////////////\n//////////ng-change=\"numberAssignAnswer()\" ng-model=\"sliderValue\"/////////////////////////////////////\n\t\t\t\telse if ($scope.question.type == 'numeric'){\n\t\t\t\t\t$scope.numberAnswer = true;\n\t\t\t\t\t$scope.numberString = '';\n\n\t\t\t\t}\n\n\t/////////ng-show=booleanAnswer/false /////////////////////////\n\t\t\t \telse if ($scope.question.type == 'boolean'){\n\n\t\t\t\t\t$scope.booleanAnswer = true;\n\t\t\t\t} else {}\n\t    },\n\t    link: function(scope, element, attributes ) {\n\t\t\t\t// scope.numberAnswer = true;\n\t    }\n\t  }\n})\n","angular.module('surveyApp').controller('adminResultsCtrl', function($scope, $state, surveyService, templateService) {\n    console.log('test');\n    $scope.locations = []\n  surveyService.getSurveys().then(function (response) {\n    \n    $scope.surveys = response.data\n    for (var i = 0; i < $scope.surveys.length; i++) {\n        console.log($scope.locations.indexOf($scope.surveys[i].entities.cohort.location.city) );\n        \n            \n            if ($scope.locations.indexOf($scope.surveys[i].entities.cohort.location.city)  == -1) {\n                $scope.locations.push($scope.surveys[i].entities.cohort.location.city)\n            }\n        \n    }\n    console.log($scope.locations);\n  })\n  $scope.select = function (id) {\n      $scope.selectedSurvey\n      for (var i = 0; i < $scope.surveys.length; i++) {\n            if ($scope.surveys[i]._id == id) {\n              $scope.selectedSurvey = $scope.surveys[i]\n              $scope.hide()\n            }\n            \n          }\n  }\n\n  $scope.locationArr = []\n  $scope.locationObj = {}\n  $scope.selectLocation = function (index) {\n    if ($scope.locationObj[index]) {\n        $scope.locationObj[index] = false\n    } else {\n        $scope.locationObj[index] = true\n    }\n    if ($scope.locationArr.indexOf($scope.locations[index]) == -1) {\n        $scope.locationArr.push($scope.locations[index])\n    } else {\n        $scope.locationArr.splice($scope.locationArr.indexOf($scope.locations[index]), 1)\n    }\n  } \n  $scope.locationFilter = function (survey) {\n    \n    if ($scope.locationArr.length == 0) {\n        return survey\n    } else {\n        for (var i = 0; i < $scope.locationArr.length; i++) {\n            \n            if (survey.entities.cohort.location.city == $scope.locationArr[i]) {\n                return survey\n            }\n            \n        }\n    }\n\n  }\n  $scope.panelHidden = false\n  $scope.hide = function () {\n      if ($scope.panelHidden) {\n        $scope.panelHidden = false\n      } else {\n        $scope.panelHidden = true\n      }\n      console.log($scope.panelHidden);\n  }\n  $scope.$watch('surveys', function () {\n      console.log('running');\n      if ($scope.surveys) {\n          if ($state.params.id) {\n            $scope.select($state.params.id)\n        }\n      }\n  })\n})\n","\nangular.module('surveyApp').controller('adminSendSurveyCtrl', function($scope, $state, surveyService, templateService, entityService) {\n\n\n  $scope.survey = {\n    entities: {}\n  };\n  $scope.submitDisabled = true\n  $scope.modalActive = false\n  $scope.modalType = 'delete'\n  $scope.testModalDeleteSubject = {\n     name: 'Bingo Jackson',\n          id: 4,\n          type: 'mentor',\n          location: {\n              city: 'Salt Lake City',\n              state: 'Utah'\n\n          },\n  }\n\n  $scope.test2ModalDeleteSubject = {\n     name: 'Angular',\n          id: 4,\n          type: 'topic',\n          location: {\n              city: 'Salt Lake City',\n              state: 'Utah'\n\n          },\n  }\n\n  $scope.closeModal = function () {\n    $scope.modalActive = false;\n  }\n  $scope.openModal = function (type, subject) {\n    $scope.modalType = type\n    console.log(subject);\n      $scope.modalSubject = subject\n\n    $scope.modalActive = true;\n  }\n\n  $scope.deleteEntity = function (id) {\n    entityService.deleteEntity(id).then(function () {\n      entityService.getEntities($scope.selectedTemplate.types).then(function (response) {\n        $scope.entities = response.data\n      })\n    })\n\n  }\n\n  $scope.addEntity = function (obj) {\n    console.log(obj);\n    entityService.addEntity(obj).then(function () {\n      entityService.getEntities($scope.selectedTemplate.types).then(function (response) {\n        $scope.entities = response.data\n      })\n    })\n  }\n  templateService.getTemplates().then(function (response) {\n    console.log(response.data);\n    $scope.templates = response.data\n  })\n\n  $scope.checkTemplate = function () {\n    $scope.selectedTemplate = templateService.getSelectedTemplate()\n    $scope.survey.templateId = $scope.selectedTemplate.template._id\n    $scope.survey.questions = $scope.selectedTemplate.template.questions\n    $scope.survey.title = $scope.selectedTemplate.template.title\n\n    //TODO fix this\n    $scope.survey.entities = {}\n    for (var i = 0; i < $scope.selectedTemplate.types.length; i++) {\n      $scope.survey.entities[$scope.selectedTemplate.types[i]]\n      if ($scope.survey.entities[$scope.selectedTemplate.types[i]]) {\n        console.log('!!!FOUND ONE!!!');\n      } else {\n        $scope.survey.entities[$scope.selectedTemplate.types[i]] = undefined;\n      }\n\n\n    }\n\n    $scope.entities = []\n    entityService.getEntities($scope.selectedTemplate.types).then(function (response) {\n      $scope.entities = response.data\n    })\n    $scope.checkCompleted()\n\n  }\n\n  $scope.check = function () {\n    $scope.survey.description = $scope.surveyDescription\n\n    $scope.checkCompleted()\n    console.log($scope.survey);\n  }\n\n  $scope.submitSurvey = function () {\n    $scope.survey.results = [];\n    $scope.survey.usersSentTo = []\n    $scope.survey.usersTaken = []\n    $scope.survey.cohortSentTo = $scope.survey.entities.cohort.dmCohortId\n    $scope.survey.title = $scope.replaceTitle($scope.survey.title, $scope.survey.entities)\n    surveyService.sendSurvey($scope.survey).then(function () {\n      $state.go('admin')\n    })\n    console.log($scope.survey);\n  }\n\n  $scope.checkCompleted = function () {\n    var incompleteVars = []\n    for (var key in $scope.survey.entities) {\n      if ($scope.survey.entities.hasOwnProperty(key)) {\n        if (!$scope.survey.entities[key]) {\n          incompleteVars.push(key + ' not filled')\n        }\n\n      }\n    }\n    if (incompleteVars.length > 0) {\n      $scope.submitDisabled = true;\n      $scope.submitText = \"Fill out all variables\"\n    } else {\n      $scope.submitDisabled = false;\n      $scope.submitText = \"Send Survey to \" + $scope.survey.entities.cohort.name\n    }\n\n  }\n  $scope.replaceTitle = function replaceTitle(title, entities) {\n\n    var titleArr = title.split(' ')\n    for (var key in entities) {\n        if (entities.hasOwnProperty(key)) {\n           if (entities[key]) {\n              for (var i = 0; i < titleArr.length; i++) {\n                if (titleArr[i].indexOf(key) != -1) {\n                    titleArr.splice(i,1,entities[key].name)\n                }\n\n            }\n           }\n        }\n    }\n    return titleArr.join(' ')\n\n  }\n})\n","// angular.module('surveyApp').controller('templateCtrl', function($scope,  $state, $stateParams,surveyService, templateService, entityService){\n//\n// \t$scope.checkTemplate = function () {\n// \t\t$scope.selectedTemplate = templateService.getSelectedTemplate()\n//\n// \t\t$scope.survey.questions = $scope.selectedTemplate.template.questions\n// \t\t$scope.survey.title = $scope.selectedTemplate.template.title\n//\n// \t\t//TODO fix this\n// \t\t$scope.survey.entities = {}\n// \t\tfor (var i = 0; i < $scope.selectedTemplate.types.length; i++) {\n// \t\t\t$scope.survey.entities[$scope.selectedTemplate.types[i]]\n// \t\t\tif ($scope.survey.entities[$scope.selectedTemplate.types[i]]) {\n// \t\t\t\tconsole.log('!!!FOUND ONE!!!');\n// \t\t\t} else {\n// \t\t\t\t$scope.survey.entities[$scope.selectedTemplate.types[i]] = undefined;\n// \t\t\t}\n//\n//\n// \t\t}\n//\n// \t\t$scope.entities = []\n// \t\t$scope.entities = entityService.getEntities($scope.selectedTemplate.types)\n// \t\t$scope.checkCompleted()\n//\n// \t}\n//\n// });\n","angular.module('surveyApp')\n.directive('dropdownDirective', function() {\n  return {\n    templateUrl: \"views/dropdown.html\",\n    restrict: 'E',\n    scope: {\n      entities: '=',\n      title: '=',\n      check: '&',\n      checkTemplate: '&',\n\n      survey: '=',\n      openModal: '&'\n\n\n    },\n    controller: function( $scope, $state, templateService, $timeout ) {\n      $scope.isCohort = false\n      $scope.isTemplate = false;\n      $scope.openModal = $scope.openModal()\n      if ($scope.title === 'Cohort') {\n        $scope.isCohort = true;\n      } else if ($scope.title === 'Template') {\n        $scope.isTemplate = true;\n        \n      }\n      \n\n      $scope.select = function (id) {\n        if ($scope.isTemplate) {\n          for (var i = 0; i < $scope.entities.length; i++) {\n            if ($scope.entities[i]._id == id) {\n              $scope.selected = $scope.entities[i]\n              templateService.giveSelected($scope.selected)\n              $scope.checkTemplate()\n            }\n\n          }\n        } else {\n          for (var i = 0; i < $scope.entities.entities.length; i++) {\n            if ($scope.entities.entities[i]._id == id) {\n              $scope.selected = $scope.entities.entities[i]\n              $scope.survey.entities[$scope.entities.type] = $scope.selected\n              $scope.check()\n            }\n\n          }\n        }\n        $scope.show();\n      }\n      $scope.show = function () {\n        console.log('working')\n        if ($scope.shown) {\n          $scope.shown = false\n        } else {\n          $scope.shown = true\n        }\n      }\n     function pullStateParams() {\n        if ($scope.entities) {\n          if ($scope.isTemplate) {\n            if ($state.params.id) {\n              $scope.select($state.params.id)\n              $scope.show()\n            }\n          }\n        } else {\n        }\n     }\n     $scope.$watch('entities', function () {\n       pullStateParams()\n     })\n    },\n    link: function(scope, element, attributes ) {\n      \n    }\n  }\n});\n","angular.module('surveyApp').service('entityService', function($http) {\n  this.getEntities = function(data) {\n      var entityPackage = {\n          types: data\n      }\n        return $http({\n            method: 'POST',\n            url: '/api/entities',\n            data: entityPackage\n        }).then(function (response) {\n            console.log(response.data);\n            return response\n        })\n    }\n    this.addEntity = function(data) {\n      \n        return $http({\n            method: 'POST',\n            url: '/api/addentity',\n            data: data\n        }).then(function (response) {\n            console.log(response.data);\n            return response\n        })\n    }\n\n    this.deleteEntity = function(data) {\n      \n        return $http({\n            method: 'DELETE',\n            url: '/api/entities/' + data\n        }).then(function (response) {\n            console.log(response.data);\n            return response\n        })\n    }\n\n\n  var mentors = {\n        type: 'mentor',\n        entities: [\n      {\n          name: 'Michael Memory',\n          id: 1,\n          type: 'mentor',\n          location: {\n              city: 'Provo',\n              state: 'Utah'\n\n          },\n\n      },\n      {\n          name: 'Max Rodewald',\n          id: 2,\n          type: 'mentor',\n          location: {\n              city: 'Provo',\n              state: 'Utah'\n\n          },\n          \n      },\n      {\n          name: 'Brett Gardiner',\n          id: 3,\n          type: 'mentor',\n          location: {\n              city: 'Provo',\n              state: 'Utah'\n\n          },\n          \n      },\n      {\n          name: 'Bingo Jackson',\n          id: 4,\n          type: 'mentor',\n          location: {\n              city: 'Salt Lake City',\n              state: 'Utah'\n\n          },\n          \n      },\n      {\n          name: 'HeeHaw Horseman',\n          id: 5,\n          type: 'mentor',\n          location: {\n              city: 'Salt Lake City',\n              state: 'Utah'\n\n          },\n          \n      },\n      {\n          name: 'Gunsmoke',\n          id: 6,\n          type: 'mentor',\n          location: {\n              city: 'Salt Lake City',\n              state: 'Utah'\n\n          },\n          \n      },\n      {\n          name: 'Michael Memory',\n          id: 7,\n          type: 'mentor',\n          location: {\n              city: 'Provo',\n              state: 'Utah'\n\n          },\n\n      },\n      {\n          name: 'Max Rodewald',\n          id: 8,\n          type: 'mentor',\n          location: {\n              city: 'Provo',\n              state: 'Utah'\n\n          },\n          \n      },\n      {\n          name: 'Brett Gardiner',\n          id: 9,\n          type: 'mentor',\n          location: {\n              city: 'Provo',\n              state: 'Utah'\n\n          },\n          \n      },\n      {\n          name: 'Bingo Jackson',\n          id: 10,\n          type: 'mentor',\n          location: {\n              city: 'Salt Lake City',\n              state: 'Utah'\n\n          },\n          \n      },\n      {\n          name: 'HeeHaw Horseman',\n          id: 11,\n          type: 'mentor',\n          location: {\n              city: 'Salt Lake City',\n              state: 'Utah'\n\n          },\n          \n      },\n      {\n          name: 'Gunsmoke',\n          id: 12,\n          type: 'mentor',\n          location: {\n              city: 'Salt Lake City',\n              state: 'Utah'\n\n          },\n          \n      },\n    ],\n    }\n\n  var cohorts = {\n        type: \"cohort\",\n        entities: [\n        {\n            name: 'DM20',\n            id: 1,\n            location: {\n              city: 'Provo',\n              state: 'Utah'\n\n          },\n        },\n        {\n            name: 'DMTEST',\n            id: 350,\n            location: {\n              city: 'Provo',\n              state: 'Utah'\n\n          },\n        },\n        {\n            name: 'DM19',\n            id: 2,\n            location: {\n              city: 'Provo',\n              state: 'Utah'\n\n          },\n        },\n        {\n            name: 'DM18',\n            id: 3,\n            location: {\n              city: 'Provo',\n              state: 'Utah'\n\n          },\n        },\n        {\n            name: 'iOS20',\n            id: 4,\n            location: {\n              city: 'Salt Lake City',\n              state: 'Utah'\n\n          },\n        },\n        {\n            name: 'iOS19',\n            id: 5,\n            location: {\n              city: 'Salt Lake City',\n              state: 'Utah'\n\n          },\n        },\n        {\n            name: 'iOS18',\n            id: 6,\n            location: {\n              city: 'Salt Lake City',\n              state: 'Utah'\n\n          },\n        },\n    ]\n}\n\nvar topics = {\n        type: \"topic\",\n        entities: [\n        {\n            name: 'Jquery',\n            id: 1,\n            type: 'topic',\n            \n        },\n        {\n            name: 'Angular',\n            id: 2,\n            type: 'topic',\n            \n        },\n        {\n            name: 'HTML/CSS',\n            id: 3,\n            type: 'topic',\n            \n        },\n        {\n            name: 'React',\n            id: 4,\n            type: 'topic',\n            \n        },\n        {\n            name: 'Mentoring',\n            id: 5,\n            type: 'topic',\n            \n        },\n    ]\n    }\n  \n})\n\n","angular.module('surveyApp').service('surveyService', function($http) {\n\n\n    this.sendSurvey = function(data) {\n        return $http({\n            method: 'POST',\n            url: '/api/admin/surveys',\n            data: data\n        });\n    }\n\n    this.getSurveys = function () {\n      return $http({\n            method: 'GET',\n            url: '/api/admin/surveys',\n        });\n    }\n\n  this.getSurveyById = function () {\n    return survey\n  }\n  var recentSurveys = [\n      {\n          title: 'DM20 - Week 1 Survey',\n          percentComplete: 50\n      },\n      {\n          title: 'DM20 - Week 2 Survey',\n          percentComplete: 80\n      },\n      {\n          title: 'DM20 - Week 3 Survey',\n          percentComplete: 11\n      },\n      {\n          title: 'DM20 - Week 4 Survey',\n          percentComplete: 100\n      },\n      {\n          title: 'DM20 - Week 5 Survey',\n          percentComplete: 40\n      },\n      {\n          title: 'Michael Memory - DM20 - Survey',\n          percentComplete: 33\n      },\n      {\n          title: 'DM20 - Jquery Survey',\n          percentComplete: 0\n      },\n  ]\n  var survey = {\n    title: 'DM20-WHATEVER',\n    description: 'LOREMMMMMM',\n    questions: [\n            {\n                questionText: 'How good is micahel memory at mentoring?',\n                type: 'text',\n                required: true\n\n\n            },{\n                questionText: 'uhwoueofhoeir?',\n                type: 'boolean',\n                required: true\n\n\n            },{\n                questionText: 'How good is micahel memoryasdfring?',\n                type: 'numeric',\n                required: true,\n                min: {\n                value: 1,\n                tag: 'Very Poor'\n                },\n                max: {\n                value: 20,\n                tag: 'Very Good'\n                }\n\n\n            },{\n                questionText: 'How good is micahel memory at mentoring?',\n                type: 'boolean',\n                required: true\n\n\n            },{\n                questionText: 'How good is micahel memory at mentoring?',\n                type: 'text',\n                required: true\n\n\n            },{\n                questionText: 'How good is micahel memory at mentoring?',\n                type: 'numeric',\n                required: true,\n                min: {\n                value: 1,\n                tag: 'Very Bad'\n                },\n                max: {\n                value: 5,\n                tag: 'Very Great'\n                }\n\n\n            },\n        ]\n  }\n\n  });\n\n{\n    title: \"$$cohort$$ - $$topic$$ - Unit 1 Survey\"\n}\n","angular.module('surveyApp').controller('templateCtrl', function($scope, surveyService, templateService, entityService, $state) {\n\n\n  $scope.save = function(data){\n    templateService.updateTemplate($scope.selectedTemplate.template).then(function(){\n      $state.go('admin')\n    })\n\n\n  }\n  $scope.needCohort = function(){\n    if($scope.selectedTemplate.template.title.indexOf('$$cohort$$') === -1){\n      $scope.submitDisabled = true;\n      $scope.submitText = 'Include $$cohort$$';\n    } else if ($scope.selectedTemplate.template.questions.length === 0) {\n      $scope.submitDisabled = true;\n      $scope.submitText = 'Include at least one question';\n    } else {\n      $scope.submitDisabled = false;\n      $scope.submitText = 'Save Template';\n    }\n  }\n  templateService.getTemplates().then(function(v){\n    $scope.templates =  v.data\n  })\n\n  $scope.newQuestion = function(type){\n    var question = {\n      questionText: '',\n      type: type,\n      required: false,\n      min: {\n      value: 1,\n      tag: ''\n      },\n      max: {\n      value: 10,\n      tag: ''\n      }\n    }\n    $scope.selectedTemplate.template.questions.push(question)\n    $scope.needCohort()\n\n  }\n  $scope.removeQuestion = function(index){\n      $scope.selectedTemplate.template.questions.splice(index, 1)\n      $scope.needCohort()\n  }\n\n\n\n\n  $scope.survey = {\n    entities: {}\n  };\n  $scope.submitDisabled = true\n\n  $scope.templates = templateService.getTemplates()\n\n  $scope.checkTemplate = function () {\n    $scope.selectedTemplate = templateService.getSelectedTemplate()\n// console.log(selectedTemplate.template.questions)\n    $scope.survey.questions = $scope.selectedTemplate.template.questions\n    $scope.survey.title = $scope.selectedTemplate.template.title\n\n    //TODO fix this\n    $scope.survey.entities = {}\n    for (var i = 0; i < $scope.selectedTemplate.types.length; i++) {\n      $scope.survey.entities[$scope.selectedTemplate.types[i]]\n      if ($scope.survey.entities[$scope.selectedTemplate.types[i]]) {\n        console.log('!!!FOUND ONE!!!');\n      } else {\n        $scope.survey.entities[$scope.selectedTemplate.types[i]] = undefined;\n      }\n\n\n    }\n\n    $scope.entities = []\n    $scope.entities = entityService.getEntities($scope.selectedTemplate.types)\n    $scope.checkCompleted()\n    $scope.needCohort();\n\n  }\n\n  $scope.check = function () {\n    $scope.survey.description = $scope.surveyDescription\n\n    $scope.checkCompleted()\n    console.log($scope.survey);\n  }\n\n  $scope.submitSurvey = function () {\n    $scope.survey.title = $scope.replaceTitle($scope.survey.title, $scope.survey.entities)\n    console.log($scope.survey);\n  }\n\n  $scope.checkCompleted = function () {\n    var incompleteVars = []\n    for (var key in $scope.survey.entities) {\n      if ($scope.survey.entities.hasOwnProperty(key)) {\n        if (!$scope.survey.entities[key]) {\n          incompleteVars.push(key + ' not filled')\n        }\n\n      }\n    }\n\n  }\n  $scope.replaceTitle = function replaceTitle(title, entities) {\n\n    var titleArr = title.split(' ')\n    for (var key in entities) {\n        if (entities.hasOwnProperty(key)) {\n           if (entities[key]) {\n              for (var i = 0; i < titleArr.length; i++) {\n                if (titleArr[i].indexOf(key) != -1) {\n                    titleArr.splice(i,1,entities[key].name)\n                }\n\n            }\n           }\n        }\n    }\n    return titleArr.join(' ')\n\n  }\n  $scope.newTemplate = function () {\n    $scope.selectedTemplate = {\n\n    }\n    $scope.selectedTemplate.template = {\n      title: '$$cohort$$',\n      questions: []\n    }\n    $scope.needCohort();\n\n  }\n\n})\n","angular.module('surveyApp')\n.directive('templateDirective', function() {\n  return {\n\t    templateUrl: \"views/templateDirective.html\",\n\t    restrict: 'E',\n\t    scope: {\n\t      question: '=',\n        removeQuestion: '&',\n        index: '='\n\t    },\n\t    controller: function( $scope, $state ) {\n\n\n        $scope.removeQuestion = $scope.removeQuestion()\n\t\t$scope.requiredToggle = function () {\n\t\t\tif ($scope.question.required) {\n\t\t\t\t$scope.question.required = false\n\t\t\t} else {\n\t\t\t\t$scope.question.required = true\n\t\t\t}\n\t\t}\n/////////ng-show=textAnswer/false //////////////////////////////////////////////////////////\n\t      if ($scope.question.type == 'text'){\n\t\t\t\t\t// $scope.numberAnswer = false;\n\t\t\t\t\t$scope.textAnswer = true;\n\t\t\t\t}\n///////////ng-show=numberAnswer/false ///////////////////////////////////////\n//////////ng-change=\"numberAssignAnswer()\" ng-model=\"sliderValue\"/////////////////////////////////////\n\t\t\t\telse if ($scope.question.type == 'numeric'){\n\t\t\t\t\t$scope.numberAnswer = true;\n\t\t\t\t\t$scope.numberString = '';\n\n\t\t\t\t}\n\n\t/////////ng-show=booleanAnswer/false /////////////////////////\n\t\t\t \telse if ($scope.question.type == 'boolean'){\n\n\t\t\t\t\t$scope.booleanAnswer = true;\n\t\t\t\t} else {}\n\t    },\n\t    link: function(scope, element, attributes ) {\n\t\t\t\t// scope.numberAnswer = true;\n\t    }\n\t  }\n})\n","angular.module('surveyApp')\n.directive('templateSelectorDirective', function() {\n  return {\n    templateUrl: \"views/templateSelector.html\",\n    restrict: 'E',\n    scope: {\n      entities: '=',\n      title: '=',\n      check: '&',\n      checkTemplate: '&',\n\t\t\tnewTemplate: '&',\n      survey: '=',\n      openModal: '&'\n\n\n    },\n    controller: function( $scope, $state, templateService, $timeout ) {\n      $scope.isCohort = false\n      $scope.isTemplate = false;\n      $scope.openModal = $scope.openModal()\n      if ($scope.title === 'Cohort') {\n        $scope.isCohort = true;\n      } else if ($scope.title === 'Template') {\n        $scope.isTemplate = true;\n\n      }\n\n\t\t\t$scope.addNew = function () {\n\t\t\t\t$scope.newTemplate()\n\t\t\t\t$scope.show()\n\t\t\t}\n      $scope.select = function (id) {\n        if ($scope.isTemplate) {\n          for (var i = 0; i < $scope.entities.length; i++) {\n            if ($scope.entities[i]._id == id) {\n              $scope.selected = $scope.entities[i]\n              templateService.giveSelected($scope.selected)\n              $scope.checkTemplate()\n            }\n\n          }\n        } else {\n          for (var i = 0; i < $scope.entities.entities.length; i++) {\n            if ($scope.entities.entities[i]._id == id) {\n              $scope.selected = $scope.entities.entities[i]\n              $scope.survey.entities[$scope.entities.type] = $scope.selected\n              $scope.check()\n            }\n\n          }\n        }\n        $scope.show();\n      }\n      $scope.show = function () {\n        console.log('working')\n        if ($scope.shown) {\n          $scope.shown = false\n        } else {\n          $scope.shown = true\n        }\n      }\n     function pullStateParams() {\n        if ($scope.entities) {\n          if ($scope.isTemplate) {\n            if ($state.params.id) {\n              $scope.select($state.params.id)\n              $scope.show()\n            }\n          }\n        } else {\n        }\n     }\n     $scope.$watch('entities', function () {\n       pullStateParams()\n     })\n    },\n    link: function(scope, element, attributes ) {\n\n    }\n  }\n});\n","angular.module('surveyApp').service('templateService', function($http) {\n  this.getRecentTemplates = function () {\n      return recentTemplates\n  }\nthis.getTemplates = function () {\n      return $http({\n            method: 'GET',\n            url: '/api/admin/templates'\n        })\n}\nthis.deleteTemplate = function (id) {\n      return $http({\n            method: 'DELETE',\n            url: '/api/admin/templates/' + id\n        })\n}  \nthis.updateTemplate = function(data) {\n  console.log(data);\n  return $http({\n    method: 'POST',\n    url: '/api/admin/templates',\n    data: data\n  })\n}\n\n  var currentTemplate = {\n\n  }\n  this.getSelectedTemplate = function () {\n      return currentTemplate\n  }\n  this.giveSelected = function (template) {\n    currentTemplate.template = template\n    currentTemplate.types = this.parseTitle(template.title)\n  }\n  this.parseTitle = function (title) {\n    var parsing = false\n    var parseStrArr = []\n\n\n    var titleArr = title.split('')\n    var parsedEntities = []\n    for (var i = 0; i < titleArr.length; i++) {\n\n        if (parsing) {\n\n            if (titleArr[i] !== '$') {\n                parseStrArr.push(titleArr[i])\n            } else {\n                parsing = false\n                parsedEntities.push(parseStrArr.join(''))\n                parseStrArr = []\n                i += 2\n            }\n        } else {\n            if (titleArr[i - 1] == '$') {\n                parsing = true\n            }\n        }\n\n    }\n    return parsedEntities\n  }\n  var recentTemplates = [\n      {\n          title: '$$cohort$$ - $$topic$$ - Unit 1 Survey',\n          id: 1,\n          questions: [\n            {\n                questionText: 'How good is micahel memory at mentoring?',\n                type: 'text',\n                required: true\n\n\n            },{\n                questionText: 'uhwoueofhoeir?',\n                type: 'boolean',\n                required: true\n\n\n            },{\n                questionText: 'How good is micahel memoryasdfring?',\n                type: 'numeric',\n                required: true,\n                min: {\n                value: 1,\n                tag: 'Very Poor'\n                },\n                max: {\n                value: 20,\n                tag: 'Very Good'\n                }\n\n\n            },{\n                questionText: 'How good is micahel memory at mentoring?',\n                type: 'boolean',\n                required: true\n\n\n            },{\n                questionText: 'How good is micahel memory at mentoring?',\n                type: 'text',\n                required: true\n\n\n            },{\n                questionText: 'How good is micahel memory at mentoring?',\n                type: 'numeric',\n                required: true,\n                min: {\n                value: 1,\n                tag: 'Very Bad'\n                },\n                max: {\n                value: 5,\n                tag: 'Very Great'\n                }\n\n\n            },\n        ]\n      },\n      {\n          title: '$$cohort$$ - Unit 5 Survey',\n          id: 2\n      },\n      {\n          title: '$$cohort$$ - Jquery Survey',\n          id: 3\n      },\n      {\n          title: '$$cohort$$ - Weekly',\n          id: 4\n      },\n      {\n          title: '$$mentor$$ - $$cohort$$ - iOS Mentor',\n          id: 5\n      },\n      {\n          title: '$$mentor$$ - $$cohort$$ - iOS Instructor',\n          id: 6\n      },\n      {\n          title: '$$mentor$$ - $$cohort$$ - UI/UX Mentor asdfas dfasdglkfasld asdljfh askljasdflkj',\n          id: 7\n      },\n  ]\n})\n","angular.module('surveyApp').controller('userCtrl', function($scope, $state, $stateParams, auth, authService, userService, $location, $anchorScroll) {\n\n    $scope.name = auth.first_name + ' ' + auth.last_name;\n    $scope.isMentor = false;\n    $(document).ready(function() {\n        if ($stateParams.toastMessage)\n            Materialize.toast($stateParams.toastMessage, 4000);\n        for (var i = 0; i < auth.roles.length; i++) {\n            if (auth.roles[i].role === 'mentor') {\n                $scope.isMentor = true;\n            }\n        }\n    });\n\n    $scope.gotoTop = function() {\n        // set the location.hash to the id of\n        // the element you wish to scroll to.\n        $location.hash('top'); // top of body\n\n        $anchorScroll();\n    };\n\n\n    $scope.untakenSurveys = [];\n    $scope.loadUntakenSurveys = function() {\n        userService.getUntaken(auth._id)\n            .then(function(response) {\n                if (!response.data.hasOwnProperty('message')) {\n                    response.data.forEach(function(e) {\n                        $scope.untakenSurveys.push(e);\n                    })\n                }\n                if ($scope.untakenSurveys.length === 0) {\n                  $scope.noSurveys = true;\n                }\n                console.log($scope.untakenSurveys)\n                $scope.surveys = {\n                    column1: [],\n                    column2: []\n                }\n                for (var i = 0; i < $scope.untakenSurveys.length; i++) {\n                    // console.log($scope.untakenSurveys)\n                    if (i % 2 === 0) {\n                        $scope.surveys.column1.push($scope.untakenSurveys[i])\n                        continue;\n                    } else {\n                        $scope.surveys.column2.push($scope.untakenSurveys[i])\n                        continue;\n                        // console.log($scope.untakenSurveys[i])\n                    }\n\n                    return $scope.surveys\n                }\n\n                // console.log($scope.surveys);\n\n            })\n    }\n\n\n\n\n\n\n\n    $scope.gotoTop();\n    $scope.loadUntakenSurveys();\n\n\n    $scope.logout = function(){\n      console.log('working')\n      authService.logout()\n       .then(function( response ) {\n            if (response.status === 200) {\n                $state.go('login');\n            }\n        });\n    }\n\n\n    // $scope.getUser = function(){\n    //   $scope.surveys = userService.getUser();\n    // }\n    // $scope.getUser();\n    // console.log($scope.surveysColumn1)\n    // $scope.getUntaken = function(studentId){\n    //   $scope.userData = userService.getUntaken('590cf0a10bc4105a51c14dd6');\n    //   if($scope.userData.surveysA.length == 0 && $scope.userData.surveysB.length == 0) {\n    //       $scope.noSurveys = true;\n    //   }\n    // }\n    // $scope.getUntaken();\n    // console.log('test')\n})\n","angular.module('surveyApp').directive('userQuestionDirective', function(){\n\treturn {\n\t    templateUrl: \"views/userQuestion.html\",\n\t    restrict: 'E',\n\t    scope: {\n\t      question: '=',\n\n\t    },\n\t    controller: function( $scope, $state ) {\n\n\t//////////////booleanAnswer ng-click\"answer && answerno\"//////////////////////////////\n\t\t\t\t$scope.answer = function(question) {\n\t\t\t\t\tquestion.answer = 'true'; console.log(\"answer: \",question)\n\t\t\t\t}\n\t\t\t\t$scope.answerno = function(question) {\n\t\t\t\t\tquestion.answer = 'false'; console.log(\"no answer: \",question)\n\t\t\t\t}\n\n/////////////textAnswer ng-change=\"textAssignAnswer\" ng-model=\"textValue\"/////////////////////////////////\n\t\t\t\t$scope.textAssignAnswer = function(){\n\t\t\t\t\t$scope.question.answer = $scope.textValue\n\t\t\t\t}\n\n\n\n/////////ng-show=textAnswer/false //////////////////////////////////////////////////////////\n\t      if ($scope.question.type == 'text'){\n\t\t\t\t\t// $scope.numberAnswer = false;\n\t\t\t\t\t$scope.textAnswer = true;\n\t\t\t\t}\n///////////ng-show=numberAnswer/false ///////////////////////////////////////\n//////////ng-change=\"numberAssignAnswer()\" ng-model=\"sliderValue\"/////////////////////////////////////\n\t\t\t\telse if ($scope.question.type == 'numeric'){\n\t\t\t\t\t$scope.numberAnswer = true;\n\t\t\t\t\t$scope.numberString = '';\n\n\t\t\t\t\t$scope.numberAssignAnswer = function(){\n\t\t\t\t\t\t$scope.question.answer = $scope.sliderValue\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t/////////ng-show=booleanAnswer/false /////////////////////////\n\t\t\t \telse if ($scope.question.type == 'boolean'){\n\n\t\t\t\t\t$scope.booleanAnswer = true;\n\t\t\t\t} else {}\n\t    },\n\t    link: function(scope, element, attributes ) {\n\t\t\t\t// scope.numberAnswer = true;\n\t    }\n\t\t}\n})\n","\n// angular.module('surveyApp').service('userService', function() {\n//\n// var surveysColumn1 = [{}];\n// var surveysColumn2 = [{}];\n//   this.getUser = function () {\n//     var surveys = {\n//       column1: [],\n//       column2: []\n//     }\n//     for(var i=0;i < recentSurveys.length; i++){\n//           if(i%2 === 0){\n//\n//             surveys.column1.push(recentSurveys[i])\n//\n//\n//           } else  {\n//               surveys.column2.push(recentSurveys[i])\n//           }\n//\n//         }\n//\n//   return surveys\n//   }\n//\n//\n//   // this.getUser = function() {\n//   //   return recentSurveys\n//   // }\n//   var recentSurveys = [\n//       {\n//\n//           title: 'DM20-Brett Rheiner',\n//         description: 'Mentor Survey on your personal mentor. 10 questions on your overall rating of your mentor sajdhjhasdkfhklj kjl jkasdhfklj a skljdf jkla kdjajsdh fklj asdf klasdf kjasdf kasdf kjsdf kaskjf kljasdf lkhasdjf klj asdfgakl rgfiuqohrou asdlkjl ;iasdh '\n//       },\n//       {\n//           title: 'DM20 - Week 2 Survey',\n// \t\t\t\t\t  description: 'lorem'\n//       },\n//       {\n//           title: 'DM20 - Week 3 Survey',\n// \t\t\t\t\t  description: 'lorem'\n//       },\n//       {\n//           title: 'DM20 - Week 4 Survey',\n// \t\t\t\t\t  description: 'lorem'\n//       },\n//       {\n//           title: 'DM20 - Week 5 Survey',\n// \t\t\t\t\t  description: 'lorem'\n//       },\n//       {\n//           title: 'Michael Memory - DM20 - Survey',\n// \t\t\t\t\t  description: 'lorem'\n//       },\n//       {\n//           title: 'DM20 - Jquery Survey',\n// \t\t\t\t\t  description: 'lorem'\n//\n//       },\n//       {\n//           classTitle: 'DM21',\n//           title: 'DM20-MAXXiliion Rheiner',\n//         description: 'Mentor Survey on your personal mentor. 10 questions on your overall rating of your mentor'\n//       },\n//       {\n//           title: 'DM20 - Week 2 Survey',\n// \t\t\t\t\t  description: 'lorem'\n//       },\n//       {\n//           title: 'DM20 - Week 3 Survey',\n// \t\t\t\t\t  description: 'lorem'\n//       },\n//       {\n//           title: 'DM20 - Week 4 Survey',\n// \t\t\t\t\t  description: 'lorem'\n//       },\n//       {\n//           title: 'DM20 - Week 5 Survey',\n// \t\t\t\t\t  description: 'lorem lasihdfo hhasdfoih oph asdfjhasldkjhfjkhaskldjhfklj hkljasdhf   kj hadjf haskjdh kjasd fkjhakldjf hklajsd klj hkajsdf khasj kdhfklj asdfklj askljdf hjakljasdkljh fklj asdfhjk'\n//       },\n//       {\n//           title: 'Michael Memory - DM20 - Survey',\n// \t\t\t\t\t  description: 'lorem'\n//       },\n//       {\n//           title: 'DM20 - Jquery Survey',\n// \t\t\t\t\t  description: 'lorem'\n//\n//       }\n//   ]\n//\n// })\n","angular.module('surveyApp').controller('userSurveyCtrl', function($scope, $state, authService, auth, $stateParams, userService) {\n\n\n\tconsole.log('$stateParams.surveyId = ', $stateParams.surveyId);\n\n\t\t\t$scope.readSurvey = function() {\n       userService.getSurvey($stateParams.surveyId)\n       .then(function( response ) {\n            console.log('in takeSurveyCtrl');\n            console.log('in readSurvey')\n            console.log('response', response);\n            $scope.survey = response.data;\n        })\n        .catch(function(err) {\n            console.error('err = ', err);\n            $state.go('user');\n        })\n    }\n\t\t$scope.readSurvey();\n\n\t\t// $scope.processForm = function() {\n\t  //            $scope.newResults.user = auth._id;\n\t  //            $scope.newResults.survey = $stateParams.surveyId;\n\t  //            $scope.newResults.topic = $scope.topicId;\n\t  //            console.log('newResults = ', $scope.newResults);\n\t  //            takeSurveyService.writeSurveyResults($scope.newResults)\n\t  //            .then(function(response) {\n\t  //                console.log('in takeSurveyCtrl');\n\t  //                console.log('in processForm');\n\t  //                console.log('response', response);\n\t  //                if (response.status === 200) {\n\t  //                    $state.go('user', {\n\t  //                        toastMessage: 'Survey Successfully Submitted'\n\t  //                    });\n\t  //                }\n\t  //             })\n\t  //            .catch(function(err) {\n\t  //            // For any error, send them back to admin login screen.\n\t  //                console.error('err = ', err);\n\t  //                $scope.errorMsg = 'Error Submitting Survey';\n\t  //            });\n\t  //        }\n\n\n\n\n$scope.getSliderValue = function(x) {\n\n\n}\n$scope.submit = function(){\nvar incompleteQuestions = [];\n\n\n\n\n\tfor (var i = 0; i < $scope.survey.questions.length; i++) {\n\t\tif($scope.survey.questions[i].required ){\n\t\t\tif($scope.survey.questions[i].answer){\n\t\t\t\t$scope.survey.questions[i].incomplete = false;\n\n\t\t\t} else {\n\n\t\t\t\t$scope.survey.questions[i].incomplete = true;\n\t\t\t\tincompleteQuestions.push($scope.survey.questions[i])\n\t\t\t}\n\t\t}\n\t}\n\tif(incompleteQuestions.length > 0 ){\n\t\t$scope.unansweredQuestions = true;\n\n\t} else {\n\t\tvar results = {\n\n            surveyId: $scope.survey._id,\n\t\t\t\t\t\tuserId: auth._id,\n            results: $scope.survey.questions\n\n        }\n        console.log('this is scope.survey',$scope.survey)\n        console.log('results',results )\n\n        userService.writeSurveyResults(results).then(function(){\n            $state.go('user')\n\n\t\t});\n\n\t}\n\tconsole.log($scope.survey.questions)\n\n}\n$scope.logout = function(){\n\tconsole.log('working')\n\tauthService.logout()\n\t .then(function( response ) {\n\t\t\t\tif (response.status === 200) {\n\t\t\t\t\t\t$state.go('login');\n\t\t\t\t}\n\t\t});\n}\n$scope.getSliderValue();\nconsole.log($scope.survey)\n\n\n\n\n// authService.\n\n\n\n\n\n\n\n\n\n});\n","angular.module(\"surveyApp\").service(\"authService\", function($http) {\n\n  this.login = function(userData) {\n      console.log('userData = ', userData);\n\n      return $http({\n          method: 'POST',\n          url: '/api/login',\n          data: userData\n      });\n  };\n\n   this.logout = function() {\n      return $http({\n          method: 'GET',\n          url: '/api/logout'\n      });\n  };\n\n  this.checkForAuth = function() {\n      return $http({\n          method: 'GET',\n          url: '/api/current_user'\n      });\n  };\n\n  this.checkForAdminAuth = function() {\n      return $http({\n          method: 'GET',\n          url: '/api/current_admin_user'\n      });\n  };\n\n});\n","angular.module(\"surveyApp\").service(\"userService\", function($http) {\n\n    this.getSurvey = function(surveyId) {\n        return $http({\n            method: 'GET',\n            url: '/api/surveys/' + surveyId\n        });\n    }\n\n    this.getTopic = function(topicId) {\n        return $http({\n            method: 'GET',\n            url: '/api/topics?_id=' + topicId\n        });\n    }\n\n    this.writeSurveyResults = function(data) {\n        return $http({\n            method: 'POST',\n            url: '/api/surveys/results',\n            data: data\n        });\n    }\n\n\n    this.getUntaken = function(studentId) {\n        return $http({\n            method: 'GET',\n            url: '/api/surveys/untaken/' + studentId\n        });\n      }\n    });\n      // .then(function(response) {\n      //     console.log(response)\n      //\n      //   })\n      // }\n\n\n    //\n    // this.getUsers = function() {\n    //   return $http({\n    //     method: 'GET',\n    //     url: '/user'\n    //   }).then(function(response) {\n    //     return response;\n    //   });\n    // };\n    //\n    // this.getUser = function(id) {\n    //   return $http({\n    //     method: 'GET',\n    //     url: '/user?_id=' + id\n    //   }).then(function(response) {\n    //     return response;\n    //   });\n    // };\n","angular.module(\"surveyApp\").controller(\"navCtrl\", function($scope, authService, $state) {\n  $scope.logout = function() {\n    authService.logout().then(function(response) {\n      $state.go('login');\n    });\n  };\n});\n","angular.module('surveyApp').directive('navDir', function() {\n  return {\n    restrict: 'EA',\n    templateUrl: './js/directives/nav/navTmpl.html',\n    controller: 'navCtrl'\n  };\n});\n"]}
>>>>>>> master
