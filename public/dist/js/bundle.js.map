{"version":3,"sources":["app.js","adminCtrl.js","userCtrl.js","services/authService.js","services/userService.js","directives/nav/navCtrl.js","directives/nav/navDir.js","routes/home/homeCtrl.js","routes/login/loginCtrl.js","routes/profile/profileCtrl.js"],"names":["angular","module","config","$urlRouterProvider","$stateProvider","when","state","url","templateUrl","controller","resolve","user","authService","$state","getCurrentUser","then","response","data","go","catch","err","$scope","test","service","$http","login","method","logout","registerUser","editUser","id","getUsers","getUser","directive","restrict","hello","alert","password","register","newUser"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('surveyApp', ['ui.router'])\n\n  .config( function ($urlRouterProvider, $stateProvider ){\n\n$urlRouterProvider.when('', '/');\n\n  $stateProvider\n    // .state('user', {\n    //   templateUrl: 'views/user.html',\n    //\n    //   url: '/',\n    //   controller: 'userCtrl'\n    //\n    // })\n    // .state('admin', {\n    //   templateUrl: 'views/admin.html',\n    //\n    //   url: '/admin',\n    //   controller: 'adminCtrl'\n    //\n    // })\n    .state('home', {\n      url: \"/\",\n      templateUrl: \"./js/routes/home/homeTmpl.html\",\n      controller: 'homeCtrl'\n    }).state('login', {\n      url: '/login',\n      templateUrl: './js/routes/login/loginTmpl.html',\n      controller: 'loginCtrl'\n    }).state('profile', {\n      url: '/profile',\n      templateUrl: './js/routes/profile/profileTmpl.html',\n      controller: 'profileCtrl',\n      resolve: {\n        user: function(authService, $state) {\n          return authService.getCurrentUser().then(function(response) {\n            if (!response.data)\n              $state.go('login');\n            return response.data;\n          }).catch(function(err) {\n            $state.go('login');\n          });\n        }\n      }\n    });\n\n\n\n\n})\n","angular.module('surveyApp').controller('adminCtrl', function($scope) {\n  $scope.test = 'Hello, I am a test'\n})\n","angular.module('surveyApp').controller('userCtrl', function($scope) {\n  $scope.test = 'Hello, I am a test'\n})\n","angular.module(\"surveyApp\").service(\"authService\", function($http) {\n\n  this.login = function(user) {\n    return $http({\n      method: 'post',\n      url: '/login',\n      data: user\n    }).then(function(response) {\n      return response;\n    });\n  };\n\n  this.logout = function() {\n    return $http({\n      method: 'get',\n      url: '/logout'\n    }).then(function(response) {\n      return response;\n    });\n  };\n\n  this.getCurrentUser = function() {\n    return $http({\n      method: 'GET',\n      url: '/me'\n    }).then(function(response) {\n      return response;\n    });\n  };\n\n  this.registerUser = function(user) {\n    return $http({\n      method: 'POST',\n      url: '/register',\n      data: user\n    }).then(function(response) {\n      return response;\n    });\n  };\n\n  this.editUser = function(id, user) {\n    return $http({\n      method: 'PUT',\n      url: \"/user/\" + id,\n      data: user\n    }).then(function(response) {\n      return response;\n    });\n  };\n});\n","angular.module(\"surveyApp\").service(\"userService\", function($http) {\n\n  this.getUsers = function() {\n    return $http({\n      method: 'GET',\n      url: '/user'\n    }).then(function(response) {\n      return response;\n    });\n  };\n\n  this.getUser = function(id) {\n    return $http({\n      method: 'GET',\n      url: '/user?_id=' + id\n    }).then(function(response) {\n      return response;\n    });\n  };\n});\n","angular.module(\"surveyApp\").controller(\"navCtrl\", function($scope, authService, $state) {\n  $scope.logout = function() {\n    authService.logout().then(function(response) {\n      $state.go('login');\n    });\n  };\n});\n","angular.module('surveyApp').directive('navDir', function() {\n  return {\n    restrict: 'EA',\n    templateUrl: './js/directives/nav/navTmpl.html',\n    controller: 'navCtrl'\n  };\n});\n","angular.module(\"surveyApp\").controller(\"homeCtrl\", function($scope) {\n  $scope.hello = 'Hello World!';\n\n});\n","angular.module(\"surveyApp\").controller(\"loginCtrl\", function($scope, authService, $state) {\n\n  $scope.login = function(user) {\n    authService.login(user).then(function(response) {\n      if (!response.data) {\n        alert('User does not exist');\n        $scope.user.password = '';\n      } else {\n        $state.go('profile');\n      }\n    }).catch(function(err) {\n      alert('Unable to login');\n    });\n  };\n\n  $scope.register = function(user) {\n    authService.registerUser(user).then(function(response) {\n      if (!response.data) {\n        alert('Unable to create user');\n      } else {\n        alert('User Created');\n        $scope.newUser = {};\n      }\n    }).catch(function(err) {\n      alert('Unable to create user');\n    });\n  };\n});\n","angular.module(\"surveyApp\").controller(\"profileCtrl\", function($scope, user) {\n  $scope.user = user;\n});\n"]}